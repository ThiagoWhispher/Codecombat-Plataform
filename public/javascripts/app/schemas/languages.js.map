{"version":3,"sources":["app/schemas/languages.coffee"],"names":[],"mappings":";AAAA;;AAAA,SAAS,QAAQ,kBAAR;;AAET,YAAY;;AACZ;;EACE,SAAS,CAAC,IAAV,CAAe;IAAA,MAAM,IAAN;IAAY,mBAAmB,UAAU,CAAC,iBAA1C;IAA6D,oBAAoB,UAAU,CAAC,kBAA5F;GAAf;AADF;;AAGA,MAAM,CAAC,OAAO,CAAC,SAAf,GAA2B;;AAC3B,MAAM,CAAC,OAAO,CAAC,aAAf,GAA+B;;AAAiB;OAAA;;iBAAA,QAAQ,CAAC;AAAT;;;;AAChD,MAAM,CAAC,OAAO,CAAC,kBAAf,GAAoC;;AAAsB;OAAA;;iBAAA,IAAI,CAAC,WAAL;AAAA;;;;AAG1D,kBACE;EAAA,MAAM,OAAN;EAEA,SAAS,SAFT;EAGA,cAAc,SAHd;EAIA,SAAS,SAJT;EAKA,cAAc,SALd;EAOA,SAAS,SAPT;EAQA,cAAc,SARd;EASA,SAAS,SATT;EAUA,cAAc,SAVd;EAWA,SAAS,SAXT;EAYA,cAAc,SAZd;;;AAcF,MAAM,CAAC,OAAO,CAAC,iCAAf,GAAmD,oCAAoC,SAAC,iBAAD;AACrF;AAAA;AAAA;;IACE,OAAO,eAAgB,KAAI,CAAC,WAAL;IACvB,IAAe,IAAf;AAAA,aAAO,KAAP;;IACA,YAAY,CAAC,CAAC,OAAF,CAAU,kBAAV,EAA8B,IAA9B;IACZ,IAAG,cAAe,CAAC,CAAnB;AACE,aAAO,aAAc,YADvB;;AAJF;AAMA,SAAO;AAP8E","file":"public/javascripts/app/schemas/languages.js","sourcesContent":["locale = require '../locale/locale'  # requiring from app; will break if we stop serving from where app lives\r\n\r\nlanguages = []\r\nfor code, localeInfo of locale\r\n  languages.push code: code, nativeDescription: localeInfo.nativeDescription, englishDescription: localeInfo.englishDescription\r\n\r\nmodule.exports.languages = languages\r\nmodule.exports.languageCodes = languageCodes = (language.code for language in languages)\r\nmodule.exports.languageCodesLower = languageCodesLower = (code.toLowerCase() for code in languageCodes)\r\n\r\n# Keep keys lower-case for matching and values with second subtag uppercase like i18next expects\r\nlanguageAliases =\r\n  'en': 'en-US'\r\n\r\n  'zh-cn': 'zh-HANS'\r\n  'zh-hans-cn': 'zh-HANS'\r\n  'zh-sg': 'zh-HANS'\r\n  'zh-hans-sg': 'zh-HANS'\r\n\r\n  'zh-tw': 'zh-HANT'\r\n  'zh-hant-tw': 'zh-HANT'\r\n  'zh-hk': 'zh-HANT'\r\n  'zh-hant-hk': 'zh-HANT'\r\n  'zh-mo': 'zh-HANT'\r\n  'zh-hant-mo': 'zh-HANT'\r\n\r\nmodule.exports.languageCodeFromAcceptedLanguages = languageCodeFromAcceptedLanguages = (acceptedLanguages) ->\r\n  for lang in acceptedLanguages ? []\r\n    code = languageAliases[lang.toLowerCase()]\r\n    return code if code\r\n    codeIndex = _.indexOf languageCodesLower, lang\r\n    if codeIndex isnt -1\r\n      return languageCodes[codeIndex]\r\n  return 'en-US'\r\n"]}