{"version":3,"sources":["app/core/services/segment.coffee"],"names":[],"mappings":";AAAA;;AAAA,MAAM,CAAC,OAAP,GAAiB,sBAAsB;AACrC;EAAA,YAAY,MAAM,CAAC,SAAP,GAAmB,MAAM,CAAC,SAAP,IAAoB;EACnD,IAAU,SAAS,CAAC,UAApB;AAAA;;EACA,IAA2D,SAAS,CAAC,OAArE;AAAA,gEAAO,OAAO,CAAE,KAAT,CAAe,iCAAf,WAAP;;EACA,SAAS,CAAC,OAAV,GAAoB;EACpB,SAAS,CAAC,OAAV,GAAoB,CAClB,aADkB,EAElB,YAFkB,EAGlB,WAHkB,EAIlB,WAJkB,EAKlB,UALkB,EAMlB,UANkB,EAOlB,OAPkB,EAQlB,OARkB,EASlB,OATkB,EAUlB,OAVkB,EAWlB,OAXkB,EAYlB,MAZkB,EAalB,MAbkB,EAclB,KAdkB,EAelB,IAfkB;EAkBpB,SAAS,CAAC,OAAV,GAAoB,SAAC,CAAD;WAClB;AACE;MAAA,IAAI,KAAK,UAAE,MAAK,CAAC,IAAb,CAAkB,SAAlB;MACJ,CAAC,CAAC,OAAF,CAAU,CAAV;MACA,SAAS,CAAC,IAAV,CAAe,CAAf;aACA;IAJF;EADkB;AAOpB;AAAA;;IACE,SAAU,QAAV,GAAoB,SAAS,CAAC,OAAV,CAAkB,MAAlB;AADtB;EAGA,SAAS,CAAC,IAAV,GAAiB,SAAC,CAAD;AACf;IAAA,IAAI,QAAQ,CAAC,aAAT,CAAuB,QAAvB;IACJ,CAAC,CAAC,IAAF,GAAS;IACT,CAAC,CAAC,KAAF,GAAU;IACV,CAAC,CAAC,GAAF,GAAQ,CAAI,QAAQ,CAAC,QAAQ,CAAC,QAAlB,KAA8B,QAAjC,GAA+C,UAA/C,GAA+D,SAAhE,IAA6E,kCAA7E,GAAkH,CAAlH,GAAsH;IAC9H,IAAI,QAAQ,CAAC,oBAAT,CAA8B,QAA9B,CAAwC;IAC5C,CAAC,CAAC,UAAU,CAAC,YAAb,CAA0B,CAA1B,EAA6B,CAA7B;IACA,QAAQ,CAAC,QAAQ,CAAC,OAAlB,CAA0B,4BAA1B,EAAwD;MAAA,SAAS,SAAT;KAAxD;EAPe;EAUjB,SAAS,CAAC,eAAV,GAA4B;SAC5B,SAAS,CAAC,IAAV,CAAe,kCAAf;AA5CqC","file":"public/javascripts/app/core/services/segment.js","sourcesContent":["module.exports = initializeSegmentio = ->\r\n  analytics = window.analytics = window.analytics or []\r\n  return if analytics.initialize\r\n  return console?.error 'Segment snippet included twice.' if analytics.invoked\r\n  analytics.invoked = true\r\n  analytics.methods = [\r\n    'trackSubmit'\r\n    'trackClick'\r\n    'trackLink'\r\n    'trackForm'\r\n    'pageview'\r\n    'identify'\r\n    'reset'\r\n    'group'\r\n    'track'\r\n    'ready'\r\n    'alias'\r\n    'page'\r\n    'once'\r\n    'off'\r\n    'on'\r\n  ]\r\n\r\n  analytics.factory = (t) ->\r\n    ->\r\n      e = Array::slice.call(arguments)\r\n      e.unshift t\r\n      analytics.push e\r\n      analytics\r\n\r\n  for method in analytics.methods\r\n    analytics[method] = analytics.factory method\r\n\r\n  analytics.load = (t) ->\r\n    e = document.createElement 'script'\r\n    e.type = 'text/javascript'\r\n    e.async = true\r\n    e.src = (if document.location.protocol is 'https:' then 'https://' else 'http://') + 'cdn.segment.com/analytics.js/v1/' + t + '/analytics.min.js'\r\n    n = document.getElementsByTagName('script')[0]\r\n    n.parentNode.insertBefore e, n\r\n    Backbone.Mediator.publish 'application:service-loaded', service: 'segment'\r\n    return\r\n\r\n  analytics.SNIPPET_VERSION = '3.1.0'\r\n  analytics.load 'yJpJZWBw68fEj0aPSv8ffMMgof5kFnU9'\r\n  #analytics.page()  # Don't track the page view on initial inclusion\r\n"]}