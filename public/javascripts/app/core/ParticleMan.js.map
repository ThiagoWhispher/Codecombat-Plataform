{"version":3,"sources":["app/core/ParticleMan.coffee"],"names":[],"mappings":"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","file":"public/javascripts/app/core/ParticleMan.js","sourcesContent":["CocoClass = require 'core/CocoClass'\r\nutils = require 'core/utils'\r\n\r\nmodule.exports = ParticleMan = class ParticleMan extends CocoClass\r\n\r\n  constructor: ->\r\n    return @unsupported = true unless Modernizr.webgl\r\n    try\r\n      @renderer = new THREE.WebGLRenderer alpha: true\r\n    catch err\r\n      return @unsupported = true\r\n    $(@renderer.domElement).addClass 'particle-man'\r\n    @scene = new THREE.Scene()\r\n    @clock = new THREE.Clock()\r\n    @particleGroups = []\r\n\r\n  destroy: ->\r\n    @detach()\r\n    @disposeObject3D @scene\r\n    for child in @scene?.children?.slice() or []\r\n      @scene.remove child\r\n    super()\r\n\r\n  disposeObject3D: (obj) ->\r\n    return unless obj\r\n    @disposeObject3D child for child in obj.children\r\n    obj.geometry?.dispose()\r\n    obj.geometry = undefined\r\n    if obj.material\r\n      material.dispose() for material in obj.material.materials ? []\r\n      obj.material.dispose()\r\n      obj.material = undefined\r\n    if obj.texture\r\n      obj.texture.dispose()\r\n      obj.texture = undefined\r\n\r\n  attach: (@$el) ->\r\n    return if @unsupported\r\n    width = @$el.innerWidth()\r\n    height = @$el.innerHeight()\r\n    @aspectRatio = width / height\r\n    @renderer.setSize(width, height)\r\n    @$el.append @renderer.domElement\r\n    @camera = camera = new THREE.OrthographicCamera(\r\n      100 * -0.5,                 # Left\r\n      100 * 0.5,                  # Right\r\n      100 * 0.5 * @aspectRatio,   # Top\r\n      100 * -0.5 * @aspectRatio,  # Bottom\r\n      0,                          # Near frustrum distance\r\n      1000                        # Far frustrum distance\r\n    )\r\n    @camera.position.set(0, 0, 100)\r\n    @camera.up = new THREE.Vector3(0, 1, 0)  # http://stackoverflow.com/questions/14271672/moving-the-camera-lookat-and-rotations-in-three-js\r\n    @camera.lookAt new THREE.Vector3(0, 0, 0)\r\n    unless @started\r\n      @started = true\r\n      @render()\r\n\r\n  detach: ->\r\n    return if @unsupported\r\n    @renderer.domElement.remove()\r\n    @started = false\r\n\r\n  render: =>\r\n    return if @unsupported\r\n    return if @destroyed\r\n    return unless @started\r\n    @renderer.render @scene, @camera\r\n    dt = @clock.getDelta()\r\n    for group in @particleGroups\r\n      group.tick dt\r\n    requestAnimationFrame @render\r\n    #@countFPS()\r\n\r\n  countFPS: ->\r\n    @framesRendered ?= 0\r\n    ++@framesRendered\r\n    @lastFPS ?= new Date()\r\n    now = new Date()\r\n    if now - @lastFPS > 1000\r\n      console.log @framesRendered, 'fps with', @particleGroups.length, 'particle groups.'\r\n      @framesRendered = 0\r\n      @lastFPS = now\r\n\r\n  addEmitter: (x, y, kind=\"level-dungeon-premium\") ->\r\n    return if @unsupported\r\n    options = $.extend true, {}, particleKinds[kind]\r\n    return console.error \"Couldn't find particle configuration for\", kind unless options.group\r\n    options.group.texture = THREE.ImageUtils.loadTexture \"/images/common/particles/#{options.group.texture}.png\"\r\n    scale = 100\r\n    aspectRatio = @$el\r\n    group = new SPE.Group options.group\r\n    group.mesh.position.x = scale * (-0.5 + x)\r\n    group.mesh.position.y = scale * (-0.5 + y) * @aspectRatio\r\n    emitter = new SPE.Emitter options.emitter\r\n    group.addEmitter emitter\r\n    @particleGroups.push group\r\n    @scene.add group.mesh\r\n    group\r\n\r\n  removeEmitter: (group) ->\r\n    return if @unsupported\r\n    @scene.remove group.mesh\r\n    @particleGroups = _.without @particleGroups, group\r\n\r\n  removeEmitters: ->\r\n    return if @unsupported\r\n    @removeEmitter group for group in @particleGroups.slice()\r\n\r\n  #addTestCube: ->\r\n    #geometry = new THREE.BoxGeometry 5, 5, 5\r\n    #material = new THREE.MeshLambertMaterial color: 0xFF0000\r\n    #mesh = new THREE.Mesh geometry, material\r\n    #@scene.add mesh\r\n    #light = new THREE.PointLight 0xFFFF00\r\n    #light.position.set 10, 0, 20\r\n    #@scene.add light\r\n\r\n\r\nhsl = (hue, saturation, lightness) ->\r\n  new THREE.Color utils.hslToHex([hue, saturation, lightness])\r\nvec = (x, y, z) ->\r\n  new THREE.Vector3 x, y, z\r\n\r\ndefaults =\r\n  group:\r\n    texture: 'star'\r\n    maxAge: 1.9\r\n    radius: 0.75\r\n    hasPerspective: 1\r\n    colorize: 1\r\n    transparent: 1\r\n    alphaTest: 0.5\r\n    depthWrite: false\r\n    depthTest: true\r\n    blending: THREE.NormalBlending\r\n  emitter:\r\n    type: \"disk\"\r\n    particleCount: 100\r\n    radius: 1\r\n    position: vec 0, 0, 0\r\n    positionSpread: vec 1, 0, 1\r\n    acceleration: vec 0, 2, 0\r\n    accelerationSpread: vec 0, 0, 0\r\n    velocity: vec 0, 4, 0\r\n    velocitySpread: vec 2, 2, 2\r\n    sizeStart: 6\r\n    sizeStartSpread: 1\r\n    sizeMiddle: 4\r\n    sizeMiddleSpread: 1\r\n    sizeEnd: 2\r\n    sizeEndSpread: 1\r\n    angleStart: 0\r\n    angleStartSpread: 0\r\n    angleMiddle: 0\r\n    angleMiddleSpread: 0\r\n    angleEnd: 0\r\n    angleEndSpread: 0\r\n    angleAlignVelocity: false\r\n    colorStart: hsl 0.55, 0.75, 0.75\r\n    colorStartSpread: vec 0.3, 0.3, 0.3\r\n    colorMiddle: hsl 0.55, 0.6, 0.5\r\n    colorMiddleSpread: vec 0.2, 0.2, 0.2\r\n    colorEnd: hsl 0.55, 0.5, 0.25\r\n    colorEndSpread: vec 0.1, 0.1, 0.1\r\n    opacityStart: 1\r\n    opacityStartSpread: 0\r\n    opacityMiddle: 0.75\r\n    opacityMiddleSpread: 0\r\n    opacityEnd: 0.25\r\n    opacityEndSpread: 0\r\n    duration: null\r\n    alive: 1\r\n    isStatic: 0\r\n\r\next = (d, options) ->\r\n  $.extend true, {}, d, options ? {}\r\n\r\nparticleKinds =\r\n  'level-dungeon-premium': ext defaults\r\n  'level-forest-premium': ext defaults,\r\n    emitter:\r\n      colorStart: hsl 0.56, 0.97, 0.5\r\n      colorMiddle: hsl 0.56, 0.57, 0.5\r\n      colorEnd: hsl 0.56, 0.17, 0.5\r\n  'level-desert-premium': ext defaults,\r\n    emitter:\r\n      colorStart: hsl 0.56, 0.97, 0.5\r\n      colorMiddle: hsl 0.56, 0.57, 0.5\r\n      colorEnd: hsl 0.56, 0.17, 0.5\r\n  'level-mountain-premium': ext defaults,\r\n    emitter:\r\n      colorStart: hsl 0.56, 0.97, 0.5\r\n      colorMiddle: hsl 0.56, 0.57, 0.5\r\n      colorEnd: hsl 0.56, 0.17, 0.5\r\n  'level-glacier-premium': ext defaults,\r\n    emitter:\r\n      colorStart: hsl 0.56, 0.97, 0.5\r\n      colorMiddle: hsl 0.56, 0.57, 0.5\r\n      colorEnd: hsl 0.56, 0.17, 0.5\r\n  'level-volcano-premium': ext defaults,\r\n    emitter:\r\n      colorStart: hsl 0.56, 0.97, 0.5\r\n      colorMiddle: hsl 0.56, 0.57, 0.5\r\n      colorEnd: hsl 0.56, 0.17, 0.5\r\n\r\nparticleKinds['level-dungeon-premium-hero'] = ext particleKinds['level-dungeon-premium'],\r\n  emitter:\r\n    particleCount: 200\r\n    radius: 1.5\r\n    acceleration: vec 0, 4, 0\r\n    opacityStart: 0.25\r\n    opacityMiddle: 0.5\r\n    opacityEnd: 0.75\r\n\r\nparticleKinds['level-dungeon-gate'] = ext particleKinds['level-dungeon-premium'],\r\n  emitter:\r\n    particleCount: 2000\r\n    acceleration: vec 0, 8, 0\r\n    colorStart: hsl 0.5, 0.75, 0.9\r\n    colorMiddle: hsl 0.5, 0.75, 0.7\r\n    colorEnd: hsl 0.5, 0.75, 0.3\r\n    colorStartSpread: vec 1, 1, 1\r\n    colorMiddleSpread: vec 1.5, 1.5, 1.5\r\n    colorEndSpread: vec 2.5, 2.5, 2.5\r\n\r\nparticleKinds['level-dungeon-hero-ladder'] = particleKinds['level-dungeon-course-ladder'] = ext particleKinds['level-dungeon-premium'],\r\n  emitter:\r\n    particleCount: 200\r\n    acceleration: vec 0, 3, 0\r\n    colorStart: hsl 0, 0.75, 0.7\r\n    colorMiddle: hsl 0, 0.75, 0.5\r\n    colorEnd: hsl 0, 0.75, 0.3\r\n\r\nparticleKinds['level-dungeon-replayable'] = particleKinds['level-dungeon-replayable-premium'] = ext particleKinds['level-dungeon-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.17, 0.75, 0.7\r\n    colorMiddle: hsl 0.17, 0.75, 0.5\r\n    colorEnd: hsl 0.17, 0.75, 0.3\r\n\r\nparticleKinds['level-dungeon-game-dev'] = particleKinds['level-dungeon-game-dev-premium'] = ext particleKinds['level-dungeon-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.7, 0.75, 0.7\r\n    colorMiddle: hsl 0.7, 0.75, 0.5\r\n    colorEnd: hsl 0.7, 0.75, 0.3\r\n\r\nparticleKinds['level-dungeon-web-dev'] = particleKinds['level-dungeon-web-dev-premium'] = ext particleKinds['level-dungeon-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.7, 0.25, 0.7\r\n    colorMiddle: hsl 0.7, 0.25, 0.5\r\n    colorEnd: hsl 0.7, 0.25, 0.3\r\n\r\nparticleKinds['level-dungeon-premium-item'] = ext particleKinds['level-dungeon-gate'],\r\n  emitter:\r\n    particleCount: 2000\r\n    radius: 2.5\r\n    acceleration: vec 0, 8, 1\r\n    opacityStart: 0\r\n    opacityMiddle: 0.5\r\n    opacityEnd: 0.75\r\n    colorStart: hsl 0.5, 0.75, 0.9\r\n    colorMiddle: hsl 0.5, 0.75, 0.7\r\n    colorEnd: hsl 0.5, 0.75, 0.3\r\n    colorStartSpread: vec 1, 1, 1\r\n    colorMiddleSpread: vec 1.5, 1.5, 1.5\r\n    colorEndSpread: vec 2.5, 2.5, 2.5\r\n\r\nparticleKinds['level-forest-premium-hero'] = ext particleKinds['level-forest-premium'],\r\n  emitter:\r\n    particleCount: 200\r\n    radius: 1.5\r\n    acceleration: vec 0, 4, 0\r\n    opacityStart: 0.25\r\n    opacityMiddle: 0.5\r\n    opacityEnd: 0.75\r\n\r\nparticleKinds['level-forest-gate'] = ext particleKinds['level-forest-premium'],\r\n  emitter:\r\n    particleCount: 120\r\n    velocity: vec 0, 8, 0\r\n    colorStart: hsl 0.56, 0.97, 0.3\r\n    colorMiddle: hsl 0.56, 0.57, 0.3\r\n    colorEnd: hsl 0.56, 0.17, 0.3\r\n    colorStartSpread: vec 1, 1, 1\r\n    colorMiddleSpread: vec 1.5, 1.5, 1.5\r\n    colorEndSpread: vec 2.5, 2.5, 2.5\r\n\r\nparticleKinds['level-forest-hero-ladder'] = particleKinds['level-forest-course-ladder'] = ext particleKinds['level-forest-premium'],\r\n  emitter:\r\n    particleCount: 90\r\n    velocity: vec 0, 4, 0\r\n    colorStart: hsl 0, 0.95, 0.3\r\n    colorMiddle: hsl 0, 1, 0.5\r\n    colorEnd: hsl 0, 0.75, 0.1\r\n\r\nparticleKinds['level-forest-replayable'] = particleKinds['level-forest-replayable-premium'] = ext particleKinds['level-forest-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.17, 0.75, 0.7\r\n    colorMiddle: hsl 0.17, 0.75, 0.5\r\n    colorEnd: hsl 0.17, 0.75, 0.3\r\n\r\nparticleKinds['level-forest-game-dev'] = particleKinds['level-forest-game-dev-premium'] = ext particleKinds['level-forest-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.7, 0.75, 0.7\r\n    colorMiddle: hsl 0.7, 0.75, 0.5\r\n    colorEnd: hsl 0.7, 0.75, 0.3\r\n\r\nparticleKinds['level-forest-web-dev'] = particleKinds['level-forest-web-dev-premium'] = ext particleKinds['level-forest-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.7, 0.25, 0.7\r\n    colorMiddle: hsl 0.7, 0.25, 0.5\r\n    colorEnd: hsl 0.7, 0.25, 0.3\r\n\r\nparticleKinds['level-forest-premium-item'] = ext particleKinds['level-forest-gate'],\r\n  emitter:\r\n    particleCount: 2000\r\n    radius: 2.5\r\n    acceleration: vec 0, 8, 1\r\n    opacityStart: 0\r\n    opacityMiddle: 0.5\r\n    opacityEnd: 0.75\r\n    colorStart: hsl 0.5, 0.75, 0.9\r\n    colorMiddle: hsl 0.5, 0.75, 0.7\r\n    colorEnd: hsl 0.5, 0.75, 0.3\r\n    colorStartSpread: vec 1, 1, 1\r\n    colorMiddleSpread: vec 1.5, 1.5, 1.5\r\n    colorEndSpread: vec 2.5, 2.5, 2.5\r\n\r\nparticleKinds['level-desert-premium-hero'] = ext particleKinds['level-desert-premium'],\r\n  emitter:\r\n    particleCount: 200\r\n    radius: 1.5\r\n    acceleration: vec 0, 4, 0\r\n    opacityStart: 0.25\r\n    opacityMiddle: 0.5\r\n    opacityEnd: 0.75\r\n\r\nparticleKinds['level-desert-gate'] = ext particleKinds['level-desert-premium'],\r\n  emitter:\r\n    particleCount: 120\r\n    velocity: vec 0, 8, 0\r\n    colorStart: hsl 0.56, 0.97, 0.3\r\n    colorMiddle: hsl 0.56, 0.57, 0.3\r\n    colorEnd: hsl 0.56, 0.17, 0.3\r\n    colorStartSpread: vec 1, 1, 1\r\n    colorMiddleSpread: vec 1.5, 1.5, 1.5\r\n    colorEndSpread: vec 2.5, 2.5, 2.5\r\n\r\nparticleKinds['level-desert-hero-ladder'] = particleKinds['level-desert-course-ladder'] = ext particleKinds['level-desert-premium'],\r\n  emitter:\r\n    particleCount: 90\r\n    velocity: vec 0, 4, 0\r\n    colorStart: hsl 0, 0.95, 0.3\r\n    colorMiddle: hsl 0, 1, 0.5\r\n    colorEnd: hsl 0, 0.75, 0.1\r\n\r\nparticleKinds['level-desert-replayable'] = particleKinds['level-desert-replayable-premium'] = ext particleKinds['level-desert-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.17, 0.75, 0.7\r\n    colorMiddle: hsl 0.17, 0.75, 0.5\r\n    colorEnd: hsl 0.17, 0.75, 0.3\r\n\r\nparticleKinds['level-desert-game-dev'] = particleKinds['level-desert-game-dev-premium'] = ext particleKinds['level-desert-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.7, 0.75, 0.7\r\n    colorMiddle: hsl 0.7, 0.75, 0.5\r\n    colorEnd: hsl 0.7, 0.75, 0.3\r\n\r\nparticleKinds['level-desert-web-dev'] = particleKinds['level-desert-web-dev-premium'] = ext particleKinds['level-desert-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.7, 0.25, 0.7\r\n    colorMiddle: hsl 0.7, 0.25, 0.5\r\n    colorEnd: hsl 0.7, 0.25, 0.3\r\n\r\nparticleKinds['level-mountain-premium-hero'] = ext particleKinds['level-mountain-premium'],\r\n  emitter:\r\n    particleCount: 200\r\n    radius: 1.5\r\n    acceleration: vec 0, 4, 0\r\n    opacityStart: 0.25\r\n    opacityMiddle: 0.5\r\n    opacityEnd: 0.75\r\n\r\nparticleKinds['level-mountain-gate'] = ext particleKinds['level-mountain-premium'],\r\n  emitter:\r\n    particleCount: 120\r\n    velocity: vec 0, 8, 0\r\n    colorStart: hsl 0.56, 0.97, 0.3\r\n    colorMiddle: hsl 0.56, 0.57, 0.3\r\n    colorEnd: hsl 0.56, 0.17, 0.3\r\n    colorStartSpread: vec 1, 1, 1\r\n    colorMiddleSpread: vec 1.5, 1.5, 1.5\r\n    colorEndSpread: vec 2.5, 2.5, 2.5\r\n\r\nparticleKinds['level-mountain-hero-ladder'] = particleKinds['level-mountain-course-ladder'] = ext particleKinds['level-mountain-premium'],\r\n  emitter:\r\n    particleCount: 90\r\n    velocity: vec 0, 4, 0\r\n    colorStart: hsl 0, 0.95, 0.3\r\n    colorMiddle: hsl 0, 1, 0.5\r\n    colorEnd: hsl 0, 0.75, 0.1\r\n\r\nparticleKinds['level-mountain-replayable'] = particleKinds['level-mountain-replayable-premium'] = ext particleKinds['level-mountain-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.17, 0.75, 0.7\r\n    colorMiddle: hsl 0.17, 0.75, 0.5\r\n    colorEnd: hsl 0.17, 0.75, 0.3\r\n\r\nparticleKinds['level-mountain-game-dev'] = particleKinds['level-mountain-game-dev-premium'] = ext particleKinds['level-mountain-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.7, 0.75, 0.7\r\n    colorMiddle: hsl 0.7, 0.75, 0.5\r\n    colorEnd: hsl 0.7, 0.75, 0.3\r\n\r\nparticleKinds['level-mountain-web-dev'] = particleKinds['level-mountain-web-dev-premium'] = ext particleKinds['level-mountain-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.7, 0.25, 0.7\r\n    colorMiddle: hsl 0.7, 0.25, 0.5\r\n    colorEnd: hsl 0.7, 0.25, 0.3\r\n\r\nparticleKinds['level-glacier-premium-hero'] = ext particleKinds['level-glacier-premium'],\r\n  emitter:\r\n    particleCount: 200\r\n    radius: 1.5\r\n    acceleration: vec 0, 4, 0\r\n    opacityStart: 0.25\r\n    opacityMiddle: 0.5\r\n    opacityEnd: 0.75\r\n\r\nparticleKinds['level-glacier-gate'] = ext particleKinds['level-glacier-premium'],\r\n  emitter:\r\n    particleCount: 120\r\n    velocity: vec 0, 8, 0\r\n    colorStart: hsl 0.56, 0.97, 0.3\r\n    colorMiddle: hsl 0.56, 0.57, 0.3\r\n    colorEnd: hsl 0.56, 0.17, 0.3\r\n    colorStartSpread: vec 1, 1, 1\r\n    colorMiddleSpread: vec 1.5, 1.5, 1.5\r\n    colorEndSpread: vec 2.5, 2.5, 2.5\r\n\r\nparticleKinds['level-glacier-hero-ladder'] = particleKinds['level-glacier-course-ladder'] = ext particleKinds['level-glacier-premium'],\r\n  emitter:\r\n    particleCount: 90\r\n    velocity: vec 0, 4, 0\r\n    colorStart: hsl 0, 0.95, 0.3\r\n    colorMiddle: hsl 0, 1, 0.5\r\n    colorEnd: hsl 0, 0.75, 0.1\r\n\r\nparticleKinds['level-glacier-replayable'] = particleKinds['level-glacier-replayable-premium'] = ext particleKinds['level-glacier-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.17, 0.75, 0.7\r\n    colorMiddle: hsl 0.17, 0.75, 0.5\r\n    colorEnd: hsl 0.17, 0.75, 0.3\r\n\r\nparticleKinds['level-glacier-game-dev'] = particleKinds['level-glacier-game-dev-premium'] = ext particleKinds['level-glacier-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.7, 0.75, 0.7\r\n    colorMiddle: hsl 0.7, 0.75, 0.5\r\n    colorEnd: hsl 0.7, 0.75, 0.3\r\n\r\nparticleKinds['level-glacier-web-dev'] = particleKinds['level-glacier-web-dev-premium'] = ext particleKinds['level-glacier-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.7, 0.25, 0.7\r\n    colorMiddle: hsl 0.7, 0.25, 0.5\r\n    colorEnd: hsl 0.7, 0.25, 0.3\r\n\r\nparticleKinds['level-volcano-premium-hero'] = ext particleKinds['level-volcano-premium'],\r\n  emitter:\r\n    particleCount: 200\r\n    radius: 1.5\r\n    acceleration: vec 0, 4, 0\r\n    opacityStart: 0.25\r\n    opacityMiddle: 0.5\r\n    opacityEnd: 0.75\r\n\r\nparticleKinds['level-volcano-gate'] = ext particleKinds['level-volcano-premium'],\r\n  emitter:\r\n    particleCount: 120\r\n    velocity: vec 0, 8, 0\r\n    colorStart: hsl 0.56, 0.97, 0.3\r\n    colorMiddle: hsl 0.56, 0.57, 0.3\r\n    colorEnd: hsl 0.56, 0.17, 0.3\r\n    colorStartSpread: vec 1, 1, 1\r\n    colorMiddleSpread: vec 1.5, 1.5, 1.5\r\n    colorEndSpread: vec 2.5, 2.5, 2.5\r\n\r\nparticleKinds['level-volcano-hero-ladder'] = ext particleKinds['level-volcano-premium'],\r\n  emitter:\r\n    particleCount: 90\r\n    velocity: vec 0, 4, 0\r\n    colorStart: hsl 0, 0.95, 0.3\r\n    colorMiddle: hsl 0, 1, 0.5\r\n    colorEnd: hsl 0, 0.75, 0.1\r\n\r\nparticleKinds['level-volcano-replayable'] = particleKinds['level-volcano-replayable-premium'] = ext particleKinds['level-volcano-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.17, 0.75, 0.7\r\n    colorMiddle: hsl 0.17, 0.75, 0.5\r\n    colorEnd: hsl 0.17, 0.75, 0.3\r\n\r\nparticleKinds['level-volcano-game-dev'] = particleKinds['level-volcano-game-dev-premium'] = ext particleKinds['level-volcano-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.7, 0.75, 0.7\r\n    colorMiddle: hsl 0.7, 0.75, 0.5\r\n    colorEnd: hsl 0.7, 0.75, 0.3\r\n\r\nparticleKinds['level-volcano-web-dev'] = particleKinds['level-volcano-web-dev-premium'] = ext particleKinds['level-volcano-hero-ladder'],\r\n  emitter:\r\n    colorStart: hsl 0.7, 0.25, 0.7\r\n    colorMiddle: hsl 0.7, 0.25, 0.5\r\n    colorEnd: hsl 0.7, 0.25, 0.3\r\n"]}