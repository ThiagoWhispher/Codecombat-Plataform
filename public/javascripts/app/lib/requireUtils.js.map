{"version":3,"sources":["app/lib/requireUtils.coffee"],"names":[],"mappings":";AAAA,MAAM,CAAC,OAAO,CAAC,gBAAf,GAAkC,SAAC,OAAD,EAAU,SAAV;AAChC;;IAD0C,YAAU;;EACpD,KAAiB,OAAjB;AAAA,WAAO,GAAP;;EACA,QAAQ;EACR,QAAQ,OAAO,CAAC,KAAR,CAAc,GAAd;AACR,SAAM,KAAK,CAAC,MAAZ;IACE,KAAK,CAAC,GAAN;IACA,KAAK,CAAC,OAAN,CAAc;MACZ,MAAM,KAAM,MAAK,CAAC,MAAN,GAAa,CAAb,CAAN,IAAyB,KADnB;MAEZ,KAAK,YAAY,KAAK,CAAC,IAAN,CAAW,GAAX,CAFL;KAAd;EAFF;SAMA;AAVgC;;AAYlC,MAAM,CAAC,OAAO,CAAC,sBAAf,GAAwC,SAAC,WAAD,EAAc,OAAd,EAAuB,eAAvB,EAAoD,SAApD;AACtC;;IAD6D,kBAAgB;;;IAAa,YAAU;;EACpG,KAAiB,WAAjB;AAAA,WAAO,GAAP;;EACA,UAAU;EACV,QAAQ;EAER,gBAAgB,kBAAkB;EAClC,IAAG,aAAc,cAAa,CAAC,MAAd,GAAqB,CAArB,CAAd,KAA2C,GAA9C;IACE,iBAAiB,IADnB;;AAGA;;IACE,IAAI,CAAE;IACN,KAAgB,CAAhB;AAAA;;IACA,QAAQ,CAAC,CAAC,KAAF,CAAQ,GAAR;IACR,OAAO,KAAM;IACb,QAAW,KAAK,CAAC,MAAN,KAAgB,CAAnB,GAA0B,KAA1B,GAAqC;;MAC7C,KAAM,SAAS;;IACf,KAAM,MAAN,IAAe;AAPjB;EASA,WAAW;EACX,aAAa;EACb,IAAoB,SAAU,UAAS,CAAC,MAAV,GAAiB,CAAjB,CAAV,KAAmC,GAAvD;IAAA,aAAa,IAAb;;AAEA;AAAA;;IACE,QAAQ,CAAC,IAAT,CAAc;MACZ,MAAM,QADM;MAEZ,KAAK,YAAU,IAFH;MAGZ,MAAM,OAAK,GAHC;MAIZ,MAAM,OAAQ,MAJF;KAAd;AADF;AAOA;AAAA;;IACE,QAAQ,CAAC,IAAT,CAAc;MACZ,MAAM,MADM;MAEZ,KAAK,YAAU,IAFH;MAGZ,MAAM,IAHM;KAAd;AADF;SAMA;AAnCsC","file":"public/javascripts/app/lib/requireUtils.js","sourcesContent":["module.exports.getParentFolders = (subPath, urlPrefix='/test/') ->\r\n  return [] unless subPath\r\n  paths = []\r\n  parts = subPath.split('/')\r\n  while parts.length\r\n    parts.pop()\r\n    paths.unshift {\r\n      name: parts[parts.length-1] or 'All'\r\n      url: urlPrefix + parts.join('/')\r\n    }\r\n  paths\r\n\r\nmodule.exports.parseImmediateChildren = (allChildren, subPath, baseRequirePath='test/app/', urlPrefix='/test/') ->\r\n  return [] unless allChildren\r\n  folders = {}\r\n  files = {}\r\n\r\n  requirePrefix = baseRequirePath + subPath\r\n  if requirePrefix[requirePrefix.length-1] isnt '/'\r\n    requirePrefix += '/'\r\n\r\n  for f in allChildren\r\n    f = f[requirePrefix.length..]\r\n    continue unless f\r\n    parts = f.split('/')\r\n    name = parts[0]\r\n    group = if parts.length is 1 then files else folders\r\n    group[name] ?= 0\r\n    group[name] += 1\r\n\r\n  children = []\r\n  urlPrefix += subPath\r\n  urlPrefix += '/' if urlPrefix[urlPrefix.length-1] isnt '/'\r\n\r\n  for name in _.keys(folders)\r\n    children.push {\r\n      type: 'folder',\r\n      url: urlPrefix+name\r\n      name: name+'/'\r\n      size: folders[name]\r\n    }\r\n  for name in _.keys(files)\r\n    children.push {\r\n      type: 'file',\r\n      url: urlPrefix+name\r\n      name: name\r\n    }\r\n  children\r\n"]}