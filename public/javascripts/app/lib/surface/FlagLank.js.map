{"version":3,"sources":["app/lib/surface/FlagLank.coffee"],"names":[],"mappings":";AAAA;EAAA;;;AAAA,YAAY,QAAQ,uBAAR;;AACX,KAAM,QAAQ,WAAR,EAAN;;AAED,MAAM,CAAC,OAAP,GAAuB;;;qBACrB,gBACE;IAAA,uBAAuB,cAAvB;;;qBAIF,aAAY;WAAG;MAAA,GAAG,EAAH;MAAO,GAAG,EAAV;MAAc,GAAG,CAAjB;;EAAH;;EAEC,kBAAC,SAAD,EAAY,OAAZ;IACX,0CAAM,SAAN,EAAiB,OAAjB;IACA,IAAC,aAAD,CAAc,OAAO,CAAC,QAAtB;EAFW;;qBAIb,iBAAgB,SAAC,SAAD,EAAY,OAAZ;AACd;IAAA,QAAQ,6CAAM,SAAN,EAAiB,OAAjB;IACR,KAAK,CAAC,KAAN,GAAc,KAAK,CAAC,MAAN,GAAe,KAAK,CAAC,KAAN,GAAc;IAC3C,KAAK,CAAC,GAAG,CAAC,CAAV,GAAc;IACd,KAAK,CAAC,YAAN,GAAqB;IACrB,KAAK,CAAC,KAAN,GAAc,OAAO,CAAC;IACtB,KAAK,CAAC,IAAN,GAAa,OAAO,CAAC;WACrB;EAPc;;qBAShB,eAAc,SAAC,CAAD;AACZ;IAAA,KAAc,IAAC,QAAO,CAAC,QAAvB;AAAA;;IACA,MAAM,IAAC,QAAO,CAAC,MAAM,CAAC,aAAhB,CAA8B;MAAA,GAAG,CAAC,CAAC,CAAL;MAAQ,GAAG,CAAC,CAAC,CAAb;KAA9B;IACN,IAAC,MAAK,CAAC,GAAG,CAAC,CAAX,GAAe,GAAG,CAAC;WACnB,IAAC,MAAK,CAAC,GAAG,CAAC,CAAX,GAAe,GAAG,CAAC;EAJP;;qBAMd,eAAc,SAAC,EAAD;IACZ,IAAC,QAAO,CAAC,QAAT,GAAoB;IACpB,IAAC,MAAK,CAAC,KAAP,GAAkB,EAAH,GAAW,IAAX,GAAqB;IAEpC,IAAC,MAAK,CAAC,MAAP,GAAgB;WAChB,IAAC,YAAD;EALY;;;;GA3BwB","file":"public/javascripts/app/lib/surface/FlagLank.js","sourcesContent":["IndieLank = require 'lib/surface/IndieLank'\r\n{me} = require 'core/auth'\r\n\r\nmodule.exports = class FlagLank extends IndieLank\r\n  subscriptions:\r\n    'surface:mouse-moved': 'onMouseMoved'\r\n\r\n  #shortcuts:\r\n\r\n  defaultPos: -> x: 20, y: 20, z: 1\r\n\r\n  constructor: (thangType, options) ->\r\n    super thangType, options\r\n    @toggleCursor options.isCursor\r\n\r\n  makeIndieThang: (thangType, options) ->\r\n    thang = super thangType, options\r\n    thang.width = thang.height = thang.depth = 2\r\n    thang.pos.z = 1\r\n    thang.isSelectable = false\r\n    thang.color = options.color\r\n    thang.team = options.team\r\n    thang\r\n\r\n  onMouseMoved: (e) ->\r\n    return unless @options.isCursor\r\n    wop = @options.camera.screenToWorld x: e.x, y: e.y\r\n    @thang.pos.x = wop.x\r\n    @thang.pos.y = wop.y\r\n\r\n  toggleCursor: (to) ->\r\n    @options.isCursor = to\r\n    @thang.alpha = if to then 0.33 else 0.67  # 1.0 is for flags that have been placed\r\n    #@thang.action = if to then 'idle' else 'appear'  # TODO: why doesn't this work? Does it not render the action or something?\r\n    @thang.action = 'appear'\r\n    @updateAlpha()\r\n"]}