{"version":3,"sources":["app/lib/surface/IndieLank.coffee"],"names":[],"mappings":";AAAA;EAAA;;;;AAAA,QAAQ,QAAQ,iBAAR;;AACR,OAAO,QAAQ,kBAAR;;AAEP,MAAM,CAAC,OAAP,GAAiB,YAAkB;;;sBACjC,iBAAgB;;sBAChB,gBACE;IAAA,6BAA6B,oBAA7B;IACA,2BAA2B,kBAD3B;;;EAGW,mBAAC,SAAD,EAAY,OAAZ;;;IACX,OAAO,CAAC,KAAR,GAAgB,IAAC,eAAD,CAAgB,SAAhB,EAA2B,OAA3B;IAChB,2CAAM,SAAN,EAAiB,OAAjB;IACA,IAAC,OAAD,GAAU,IAAC;EAHA;;sBAKb,iBAAgB,SAAC,SAAD,EAAY,OAAZ;AACd;IAAA,IAAC,MAAD,GAAS,QAAY,UAAM,IAAN,EAAY,SAAS,CAAC,GAAV,CAAc,MAAd,CAAZ,EAAmC,OAAO,CAAC,OAA3C;IAErB,KAAK,CAAC,MAAN,GAAe;IACf,KAAK,CAAC,KAAN,GAAc,KAAK,CAAC,MAAN,GAAe,KAAK,CAAC,KAAN,GAAc;IAC3C,KAAK,CAAC,GAAN,uCAA0B,IAAC,WAAD;IAC1B,KAAK,CAAC,GAAG,CAAC,CAAV,GAAc,KAAK,CAAC,KAAN,GAAc;IAC5B,KAAK,CAAC,KAAN,GAAc;IACd,KAAK,CAAC,QAAN,GAAiB;IACjB,KAAK,CAAC,MAAN,GAAe;IACf,KAAK,CAAC,SAAN,GAAkB,SAAC,MAAD;aAAY,KAAK,CAAC,MAAN,GAAe;IAA3B;IAClB,KAAK,CAAC,aAAN,GAAsB;aAAG,KAAK,CAAC;IAAT;IACtB,KAAK,CAAC,IAAN,GAAa;IACb,KAAK,CAAC,YAAN,GAAqB;IACrB,KAAK,CAAC,IAAN,GAAa,OAAO,CAAC;IACrB,KAAK,CAAC,UAAN,GAAmB,OAAO,CAAC;WAC3B;EAhBc;;sBAkBhB,qBAAoB;WAAG,IAAC,cAAD,GAAiB;EAApB;;sBACpB,mBAAkB;WAAG,IAAC,cAAD,GAAiB;EAApB;;sBAClB,eAAc,SAAC,CAAD,EAAI,YAAJ;IAAqB,KAA6B,IAAC,cAA9B;aAAA,4CAAM,CAAN,EAAS,YAAT;;EAArB;;sBACd,aAAY;WAAG;MAAA,GAAG,CAAC,EAAJ;MAAQ,GAAG,EAAX;MAAe,GAAG,IAAC,MAAK,CAAC,KAAP,GAAe,CAAjC;;EAAH;;;;GAhCuC","file":"public/javascripts/app/lib/surface/IndieLank.js","sourcesContent":["Thang = require 'lib/world/thang'\r\nLank = require 'lib/surface/Lank'\r\n\r\nmodule.exports = IndieLank = class IndieLank extends Lank\r\n  notOfThisWorld: true\r\n  subscriptions:\r\n    'script:note-group-started': 'onNoteGroupStarted'\r\n    'script:note-group-ended': 'onNoteGroupEnded'\r\n\r\n  constructor: (thangType, options) ->\r\n    options.thang = @makeIndieThang thangType, options\r\n    super thangType, options\r\n    @shadow = @thang\r\n\r\n  makeIndieThang: (thangType, options) ->\r\n    @thang = thang = new Thang null, thangType.get('name'), options.thangID\r\n    # Build needed results of what used to be Exists, Physical, Acts, and Selectable Components\r\n    thang.exists = true\r\n    thang.width = thang.height = thang.depth = 4\r\n    thang.pos = options.pos ? @defaultPos()\r\n    thang.pos.z = thang.depth / 2\r\n    thang.shape = 'ellipsoid'\r\n    thang.rotation = 0\r\n    thang.action = 'idle'\r\n    thang.setAction = (action) -> thang.action = action\r\n    thang.getActionName = -> thang.action\r\n    thang.acts = true\r\n    thang.isSelectable = true\r\n    thang.team = options.team\r\n    thang.teamColors = options.teamColors\r\n    thang\r\n\r\n  onNoteGroupStarted: => @scriptRunning = true\r\n  onNoteGroupEnded: => @scriptRunning = false\r\n  onMouseEvent: (e, ourEventName) -> super e, ourEventName unless @scriptRunning\r\n  defaultPos: -> x: -20, y: 20, z: @thang.depth / 2\r\n"]}