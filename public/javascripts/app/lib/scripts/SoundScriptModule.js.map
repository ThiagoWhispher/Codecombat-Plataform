{"version":3,"sources":["app/lib/scripts/SoundScriptModule.coffee"],"names":[],"mappings":";AAAA;EAAA;;;AAAA,eAAe,QAAQ,gBAAR;;AAEf,eAAe;;AACf,aAAa;;AAEZ,KAAM,QAAQ,WAAR,EAAN;;AAED,MAAM,CAAC,OAAP,GAAuB;;;;;;;EACrB,iBAAC,UAAD,GAAY,SAAC,SAAD;AACV,WAAO;EADG;;8BAGZ,aAAY;AACV;IAAA,QAAQ;IACR,IAAiD,oDAAjD;MAAA,KAAK,CAAC,IAAN,CAAW,IAAC,+BAAD,EAAX;;IACA,IAA+B,kCAA/B;MAAA,KAAK,CAAC,IAAN,CAAW,IAAC,aAAD,EAAX;;AACA,WAAO;EAJG;;8BAMZ,WAAU;AACR,WAAO;EADC;;8BAGV,YAAW;AACT,WAAO,IAAC,WAAD;EADE;;8BAGX,iCAAgC;AAC9B;IAAA,OACE;MAAA,SAAS,iCAAT;MACA,OAAO;QAAC,UAAU,IAAC,UAAS,CAAC,KAAK,CAAC,uBAA5B;OADP;;AAEF,WAAO;EAJuB;;8BAMhC,eAAc;AACZ;IAAA,OACE;MAAA,SAAS,yBAAT;MACA,OAAO,IAAC,UAAS,CAAC,KAAK,CAAC,KADxB;;AAEF,WAAO;EAJK;;;;GAtBiC","file":"public/javascripts/app/lib/scripts/SoundScriptModule.js","sourcesContent":["ScriptModule = require './ScriptModule'\r\n\r\ncurrentMusic = null\r\nstandingBy = null\r\n\r\n{me} = require('core/auth')\r\n\r\nmodule.exports = class SoundScriptModule extends ScriptModule\r\n  @neededFor: (noteGroup) ->\r\n    return noteGroup.sound?\r\n\r\n  startNotes: ->\r\n    notes = []\r\n    notes.push(@addSuppressSelectionSoundsNote()) if @noteGroup.sound.suppressSelectionSounds?\r\n    notes.push(@addMusicNote()) if @noteGroup.sound.music?\r\n    return notes\r\n\r\n  endNotes: ->\r\n    return []\r\n\r\n  skipNotes: ->\r\n    return @startNotes()\r\n\r\n  addSuppressSelectionSoundsNote: ->\r\n    note =\r\n      channel: 'level:suppress-selection-sounds'\r\n      event: {suppress: @noteGroup.sound.suppressSelectionSounds}\r\n    return note\r\n\r\n  addMusicNote: ->\r\n    note =\r\n      channel: 'music-player:play-music'\r\n      event: @noteGroup.sound.music\r\n    return note\r\n"]}