{"version":3,"sources":["app/lib/world/component.coffee"],"names":[],"mappings":";AAAA;EAAA;;AAAA,oBAAoB,CAAC,QAAD,EAAW,aAAX,EAA0B,mBAA1B,EAA+C,UAA/C,EAA2D,aAA3D;;AAEpB,MAAM,CAAC,OAAP,GAAuB;EACrB,SAAC,UAAD,GAAY;;sBACZ,cAAa;;EACA,mBAAC,MAAD;AACX;AAAA;;MACE,IAAE,KAAF,GAAS;AADX;EADW;;sBAIb,SAAQ,SAAC,KAAD;AAEN;AAAA;SAAA;;YAAyB,aAAW,iBAAX,cAAiC,GAAI,GAAJ,KAAY;;;MACpE,WAAW,KAAM;MACjB,IAAG,OAAO,QAAP,KAAmB,UAAtB;qBACE,KAAK,CAAC,YAAN,CAAmB,GAAnB,EAAwB,KAAxB,GADF;OAAA;qBAGE,KAAM,KAAN,GAAa,OAHf;;AAFF;;EAFM;;sBASR,oBACE;IAAA,sBAAsB,KAAtB;;;sBAEF,WAAU;WACR,iBAAe,IAAC,YAAW,CAAC;EADpB","file":"public/javascripts/app/lib/world/component.js","sourcesContent":["componentKeywords = ['attach', 'constructor', 'validateArguments', 'toString', 'isComponent']  # Array is faster than object\r\n\r\nmodule.exports = class Component\r\n  @className: 'Component'\r\n  isComponent: true\r\n  constructor: (config) ->\r\n    for key, value of config\r\n      @[key] = value  # Hmm, might want to _.cloneDeep here? What if the config has nested object values and the Thang modifies them, then we re-use the config for, say, missile spawning? Well, for now we'll clone in the missile.\r\n\r\n  attach: (thang) ->\r\n    # Optimize; this is much of the World constructor time\r\n    for key, value of @ when key not in componentKeywords and key[0] isnt '_'\r\n      oldValue = thang[key]\r\n      if typeof oldValue is 'function'\r\n        thang.appendMethod key, value\r\n      else\r\n        thang[key] = value\r\n\r\n  validateArguments:\r\n    additionalProperties: false\r\n\r\n  toString: ->\r\n    \"<Component: #{@constructor.className}\"\r\n"]}