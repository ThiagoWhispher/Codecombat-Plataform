{"version":3,"sources":["app/templates/play/campaign-view.jade"],"names":[],"mappings":"AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjnBA;AAAA","file":"public/javascripts/app/templates/play/campaign-view.js","sourcesContent":["var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view,campaign = locals_.campaign,features = locals_.features,serverConfig = locals_.serverConfig,levels = locals_.levels,i18n = locals_.i18n,translate = locals_.translate,levelStatusMap = locals_.levelStatusMap,editorMode = locals_.editorMode,levelDifficultyMap = locals_.levelDifficultyMap,levelPlayCountMap = locals_.levelPlayCountMap,marked = locals_.marked,picoCTF = locals_.picoCTF,me = locals_.me,adjacentCampaigns = locals_.adjacentCampaigns,_ = locals_._,campaigns = locals_.campaigns,levelsCompleted = locals_.levelsCompleted,levelsTotal = locals_.levelsTotal;if ( view.showAds())\n{\nbuf.push(\"<!-- TODO: loading this multiple times yields script error:--><!-- Uncaught TagError: adsbygoogle.push() error: All ins elements in the DOM with class=adsbygoogle already have ads in them.--><div class=\\\"ad-container\\\">\");\nif ( campaign)\n{\nbuf.push(\"<script async=\\\"async\\\" src=\\\"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\\\"></script><ins style=\\\"display:inline-block;width:728px;height:90px\\\" data-ad-client=\\\"ca-pub-6640930638193614\\\" data-ad-slot=\\\"4924994487\\\" class=\\\"adsbygoogle\\\"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script>\");\n}\nelse\n{\nbuf.push(\"<script async=\\\"async\\\" src=\\\"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\\\"></script><ins style=\\\"display:inline-block;width:728px;height:90px\\\" data-ad-client=\\\"ca-pub-6640930638193614\\\" data-ad-slot=\\\"4469166082\\\" class=\\\"adsbygoogle\\\"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});\\n</script>\");\n}\nbuf.push(\"</div>\");\n}\nbuf.push(\"<!-- TODO: .gameplay-container causes world map buttons to briefly appear in top left of screen--><div class=\\\"gameplay-container\\\">\");\nif ( features.codePlay)\n{\nbuf.push(\"<img src=\\\"/images/common/codeplay/CodePlay_Lockup.png\\\" class=\\\"small-nav-logo codeplay-logo\\\"/>\");\n}\nelse\n{\nbuf.push(\"<a href=\\\"/\\\" class=\\\"picoctf-hide\\\"><img src=\\\"/images/pages/base/logo.png\\\" title=\\\"CodeCombat - Learn how to code by playing a game\\\" alt=\\\"CodeCombat\\\" class=\\\"small-nav-logo\\\"/></a><div class=\\\"picoctf-show\\\"><a href=\\\"http://staging.picoctf.com\\\" class=\\\"picoctf-logo\\\"><img src=\\\"/images/pages/play/picoctf-logo-white.png\\\" title=\\\"picoCTF home\\\" alt=\\\"picoCTF home\\\" class=\\\"small-nav-logo\\\"/></a><a href=\\\"http://codecombat.com\\\" class=\\\"picoctf-powered-by\\\"><em class=\\\"spr\\\">powered by</em><img src=\\\"/images/pages/base/logo.png\\\" title=\\\"Powered by CodeCombat - Learn how to code by playing a game \\\" alt=\\\"Powered by CodeCombat\\\"/></a></div>\");\n}\nif ( serverConfig.codeNinjas)\n{\nbuf.push(\"<a href=\\\"https://code.ninja\\\"><img src=\\\"/images/pages/base/code-ninjas-logo-right.png\\\" title=\\\"Code Ninjas home\\\" alt=\\\"Code Ninjas home\\\" class=\\\"small-nav-logo code-ninjas-logo\\\"/></a>\");\n}\nif ( campaign)\n{\nbuf.push(\"<div class=\\\"map\\\"><div class=\\\"gradient horizontal-gradient top-gradient\\\"></div><div class=\\\"gradient vertical-gradient right-gradient\\\"></div><div class=\\\"gradient horizontal-gradient bottom-gradient\\\"></div><div class=\\\"gradient vertical-gradient left-gradient\\\"></div><div alt=\\\"\\\" draggable=\\\"false\\\" class=\\\"map-background\\\"></div>\");\n// iterate levels\n;(function(){\n  var $$obj = levels;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var level = $$obj[$index];\n\nif ((campaign.levelIsPractice(level) || !level.unlockedInSameCampaign) && level.hidden)\n{\ncontinue;\n}\nbuf.push(\"<div\" + (jade.attrs({ 'style':(\"left: \" + (level.position.x) + \"%; bottom: \" + (level.position.y) + \"%; background-color: \" + (level.color) + \"\"), 'data-level-slug':(level.slug), 'data-level-original':(level.original), 'title':(i18n(level, 'name') + (level.disabled ? \" (\" + translate('common.coming_soon') + \")\" : '')), \"class\": [(\"level\" + (level.next ? \" next\" : \"\") + (level.disabled ? \" disabled\" : \"\") + (level.locked ? \" locked\" : \"\") + \" \" + (levelStatusMap[level.slug] || \"\"))] }, {\"style\":true,\"class\":true,\"data-level-slug\":true,\"data-level-original\":true,\"title\":true})) + \">\");\nif ( level.unlocksHero && (!level.purchasedHero || editorMode) && (level.hidden || levelStatusMap[level.slug] === 'complete'))\n{\nbuf.push(\"<img\" + (jade.attrs({ 'src':(\"/file/db/thang.type/\" + (level.unlocksHero) + \"/portrait.png\"), \"class\": [('hero-portrait')] }, {\"src\":true})) + \"/>\");\n}\nbuf.push(\"<a\" + (jade.attrs({ 'href':(level.type == 'hero' ? '#' : level.disabled ? \"/play\" : \"/play/\" + (level.levelPath || 'level') + \"/\" + (level.slug) + \"\"), 'disabled':(level.disabled), 'data-level-slug':(level.slug), 'data-level-path':(level.levelPath || 'level'), 'data-level-name':(level.name) }, {\"href\":true,\"disabled\":true,\"data-level-slug\":true,\"data-level-path\":true,\"data-level-name\":true})) + \"></a>\");\nif ( levelStatusMap[level.slug] === 'complete')\n{\nbuf.push(\"<img src=\\\"/images/pages/play/star.png\\\" class=\\\"star\\\"/>\");\n}\nif ( editorMode)\n{\nvar kindKey = ((level.kind && level.kind[0]) || \"\").toUpperCase();\nbuf.push(\"<!--if kindKey--><div\" + (jade.attrs({ \"class\": [(\"level-kind \" + level.kind)] }, {\"class\":true})) + \">\" + (jade.escape(null == (jade.interp = kindKey) ? \"\" : jade.interp)) + \"</div>\");\nvar acronym = level.name.replace(/(A |The )/g, '').replace(/[^A-Z]/g, '');\nbuf.push(\"<div class=\\\"level-acronym\\\">\" + (jade.escape(null == (jade.interp = acronym) ? \"\" : jade.interp)) + \"</div>\");\n}\nif ( !level.hidden)\n{\nif ( level.replayable)\n{\nbuf.push(\"<img src=\\\"/images/pages/play/level-banner-replayable.png\\\" class=\\\"banner\\\"/>\");\n}\nelse if ( level.type === 'hero-ladder' || level.type === 'course-ladder')\n{\nbuf.push(\"<img src=\\\"/images/pages/play/level-banner-multiplayer.png\\\" class=\\\"banner\\\"/>\");\n}\nelse if ( ['kithgard-gates', 'siege-of-stonehold', 'clash-of-clones', 'summits-gate', 'kithgard-mastery'].indexOf(level.slug) !== -1 && levelStatusMap[level.slug] !== 'complete')\n{\nbuf.push(\"<img src=\\\"/images/pages/play/level-banner-special.png\\\" class=\\\"banner\\\"/>\");\n}\nelse if ( level.unlocksHero && levelStatusMap[level.slug] !== 'complete')\n{\nbuf.push(\"<img src=\\\"/images/pages/play/level-banner-unlock.png\\\" class=\\\"banner\\\"/><img\" + (jade.attrs({ 'src':(\"/file/db/thang.type/\" + (level.unlocksHero) + \"/portrait.png\"), \"class\": [('hero-portrait'),('hero-portrait-on-banner')] }, {\"src\":true})) + \"/>\");\n}\nelse if ( level.unlocksItem && levelStatusMap[level.slug] !== 'complete')\n{\nbuf.push(\"<img src=\\\"/images/pages/play/level-banner-unlock.png\\\" class=\\\"banner\\\"/><img\" + (jade.attrs({ 'src':(\"/file/db/thang.type/\" + (level.unlocksItem) + \"/portrait.png\"), \"class\": [('item-portrait'),('item-portrait-on-banner')] }, {\"src\":true})) + \"/>\");\n}\nelse if ( levelStatusMap[level.slug] === 'started')\n{\nbuf.push(\"<img src=\\\"/images/pages/play/level-banner-started.png\\\" class=\\\"banner\\\"/>\");\n}\nelse if ( levelStatusMap[level.slug] !== 'complete')\n{\nbuf.push(\"<img src=\\\"/images/pages/play/level-banner-unstarted.png\\\" class=\\\"banner\\\"/>\");\n}\nif ( levelDifficultyMap[level.slug])\n{\nbuf.push(\"<div class=\\\"level-difficulty-banner-text\\\">\" + (jade.escape(null == (jade.interp = levelDifficultyMap[level.slug]) ? \"\" : jade.interp)) + \"</div>\");\n}\n}\nbuf.push(\"</div><div\" + (jade.attrs({ 'style':(\"left: \" + (level.position.x) + \"%; bottom: \" + (level.position.y) + \"%\"), \"class\": [(\"level-shadow\" + (level.next ? \" next\" : \"\") + (level.locked ? \" locked\" : \"\") + \" \" + (levelStatusMap[level.slug] || \"\"))] }, {\"style\":true,\"class\":true})) + \"></div><div\" + (jade.attrs({ 'data-level-slug':(level.slug), 'data-level-path':(level.levelPath || 'level'), 'data-level-name':(level.name), \"class\": [('level-info-container')] }, {\"data-level-slug\":true,\"data-level-path\":true,\"data-level-name\":true})) + \">\");\nvar playCount = levelPlayCountMap[level.slug]\nbuf.push(\"<div class=\\\"progress progress-striped active hide\\\"><div style=\\\"width: 100%\\\" class=\\\"progress-bar\\\"></div></div>\");\nvar showsLeaderboard = levelStatusMap[level.slug] === 'complete' && ((level.scoreTypes && level.scoreTypes.length) || ['hero-ladder', 'course-ladder'].indexOf(level.type) !== -1);\nbuf.push(\"<div\" + (jade.attrs({ \"class\": [(\"level-info \" + (levelStatusMap[level.slug] || \"\") + (level.requiresSubscription ? \" premium\" : \"\") + (showsLeaderboard ? \" shows-leaderboard\" : \"\"))] }, {\"class\":true})) + \"><div class=\\\"level-status\\\"></div><h3>\" + (jade.escape(null == (jade.interp = i18n(level, 'name') + (level.disabled ? \" (\" + translate('common.coming_soon') + \")\" : (level.locked ? \" (\" + translate('play.locked') + \")\" : \"\"))) ? \"\" : jade.interp)) + \"</h3>\");\nvar description = i18n(level, 'description') || level.description || \"\"\nbuf.push(\"<div class=\\\"level-description\\\">\" + (null == (jade.interp = marked(description, {sanitize: !picoCTF})) ? \"\" : jade.interp) + \"</div>\");\nif ( level.disabled)\n{\nbuf.push(\"<p><span data-i18n=\\\"play.awaiting_levels_adventurer_prefix\\\" class=\\\"spr\\\">We release five levels per week.</span><a href=\\\"/contribute/adventurer\\\" class=\\\"spr\\\"><strong data-i18n=\\\"play.awaiting_levels_adventurer\\\">Sign up as an Adventurer</strong></a><span data-i18n=\\\"play.awaiting_levels_adventurer_suffix\\\" class=\\\"spl\\\">to be the first to play new levels.</span></p>\");\n}\nif ( level.displayConcepts && level.displayConcepts.length)\n{\nbuf.push(\"<p>\");\n// iterate level.displayConcepts\n;(function(){\n  var $$obj = level.displayConcepts;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var concept = $$obj[$index];\n\nbuf.push(\"<kbd\" + (jade.attrs({ 'data-i18n':(\"concepts.\" + concept) }, {\"data-i18n\":true})) + \"></kbd>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var concept = $$obj[$index];\n\nbuf.push(\"<kbd\" + (jade.attrs({ 'data-i18n':(\"concepts.\" + concept) }, {\"data-i18n\":true})) + \"></kbd>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</p>\");\n}\nif ( !level.disabled && !level.locked)\n{\nif ( playCount && playCount.sessions)\n{\nbuf.push(\"<div class=\\\"play-counts hidden\\\"><span class=\\\"spl spr\\\">\" + (jade.escape(null == (jade.interp = playCount.sessions) ? \"\" : jade.interp)) + \"</span><span data-i18n=\\\"play.players\\\">players</span><span class=\\\"spr\\\">, \" + (jade.escape((jade.interp = Math.round(playCount.playtime / 3600)) == null ? '' : jade.interp)) + \"</span><span data-i18n=\\\"play.hours_played\\\">hours played</span></div>\");\n}\nif ( showsLeaderboard)\n{\nbuf.push(\"<button\" + (jade.attrs({ 'data-level-slug':(level.slug), \"class\": [('btn'),('btn-warning'),('btn'),('btn-lg'),('btn-illustrated'),('view-solutions')] }, {\"data-level-slug\":true})) + \"><span data-i18n=\\\"leaderboard.scores\\\"></span></button>\");\n}\nbuf.push(\"<button data-i18n=\\\"common.play\\\" class=\\\"btn btn-success btn btn-lg btn-illustrated start-level\\\">Play</button>\");\nif ( me.get('courseInstances') && me.get('courseInstances').length)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'data-level-original':(level.original), \"class\": [('course-version'),('hidden')] }, {\"data-level-original\":true})) + \"><em data-i18n=\\\"general.or\\\"></em>...<br/><button class=\\\"btn btn-primary btn btn-lg btn-illustrated\\\"><span data-i18n=\\\"play.play_classroom_version\\\">Play Classroom Version</span></button></div>\");\n}\n}\nbuf.push(\"</div></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var level = $$obj[$index];\n\nif ((campaign.levelIsPractice(level) || !level.unlockedInSameCampaign) && level.hidden)\n{\ncontinue;\n}\nbuf.push(\"<div\" + (jade.attrs({ 'style':(\"left: \" + (level.position.x) + \"%; bottom: \" + (level.position.y) + \"%; background-color: \" + (level.color) + \"\"), 'data-level-slug':(level.slug), 'data-level-original':(level.original), 'title':(i18n(level, 'name') + (level.disabled ? \" (\" + translate('common.coming_soon') + \")\" : '')), \"class\": [(\"level\" + (level.next ? \" next\" : \"\") + (level.disabled ? \" disabled\" : \"\") + (level.locked ? \" locked\" : \"\") + \" \" + (levelStatusMap[level.slug] || \"\"))] }, {\"style\":true,\"class\":true,\"data-level-slug\":true,\"data-level-original\":true,\"title\":true})) + \">\");\nif ( level.unlocksHero && (!level.purchasedHero || editorMode) && (level.hidden || levelStatusMap[level.slug] === 'complete'))\n{\nbuf.push(\"<img\" + (jade.attrs({ 'src':(\"/file/db/thang.type/\" + (level.unlocksHero) + \"/portrait.png\"), \"class\": [('hero-portrait')] }, {\"src\":true})) + \"/>\");\n}\nbuf.push(\"<a\" + (jade.attrs({ 'href':(level.type == 'hero' ? '#' : level.disabled ? \"/play\" : \"/play/\" + (level.levelPath || 'level') + \"/\" + (level.slug) + \"\"), 'disabled':(level.disabled), 'data-level-slug':(level.slug), 'data-level-path':(level.levelPath || 'level'), 'data-level-name':(level.name) }, {\"href\":true,\"disabled\":true,\"data-level-slug\":true,\"data-level-path\":true,\"data-level-name\":true})) + \"></a>\");\nif ( levelStatusMap[level.slug] === 'complete')\n{\nbuf.push(\"<img src=\\\"/images/pages/play/star.png\\\" class=\\\"star\\\"/>\");\n}\nif ( editorMode)\n{\nvar kindKey = ((level.kind && level.kind[0]) || \"\").toUpperCase();\nbuf.push(\"<!--if kindKey--><div\" + (jade.attrs({ \"class\": [(\"level-kind \" + level.kind)] }, {\"class\":true})) + \">\" + (jade.escape(null == (jade.interp = kindKey) ? \"\" : jade.interp)) + \"</div>\");\nvar acronym = level.name.replace(/(A |The )/g, '').replace(/[^A-Z]/g, '');\nbuf.push(\"<div class=\\\"level-acronym\\\">\" + (jade.escape(null == (jade.interp = acronym) ? \"\" : jade.interp)) + \"</div>\");\n}\nif ( !level.hidden)\n{\nif ( level.replayable)\n{\nbuf.push(\"<img src=\\\"/images/pages/play/level-banner-replayable.png\\\" class=\\\"banner\\\"/>\");\n}\nelse if ( level.type === 'hero-ladder' || level.type === 'course-ladder')\n{\nbuf.push(\"<img src=\\\"/images/pages/play/level-banner-multiplayer.png\\\" class=\\\"banner\\\"/>\");\n}\nelse if ( ['kithgard-gates', 'siege-of-stonehold', 'clash-of-clones', 'summits-gate', 'kithgard-mastery'].indexOf(level.slug) !== -1 && levelStatusMap[level.slug] !== 'complete')\n{\nbuf.push(\"<img src=\\\"/images/pages/play/level-banner-special.png\\\" class=\\\"banner\\\"/>\");\n}\nelse if ( level.unlocksHero && levelStatusMap[level.slug] !== 'complete')\n{\nbuf.push(\"<img src=\\\"/images/pages/play/level-banner-unlock.png\\\" class=\\\"banner\\\"/><img\" + (jade.attrs({ 'src':(\"/file/db/thang.type/\" + (level.unlocksHero) + \"/portrait.png\"), \"class\": [('hero-portrait'),('hero-portrait-on-banner')] }, {\"src\":true})) + \"/>\");\n}\nelse if ( level.unlocksItem && levelStatusMap[level.slug] !== 'complete')\n{\nbuf.push(\"<img src=\\\"/images/pages/play/level-banner-unlock.png\\\" class=\\\"banner\\\"/><img\" + (jade.attrs({ 'src':(\"/file/db/thang.type/\" + (level.unlocksItem) + \"/portrait.png\"), \"class\": [('item-portrait'),('item-portrait-on-banner')] }, {\"src\":true})) + \"/>\");\n}\nelse if ( levelStatusMap[level.slug] === 'started')\n{\nbuf.push(\"<img src=\\\"/images/pages/play/level-banner-started.png\\\" class=\\\"banner\\\"/>\");\n}\nelse if ( levelStatusMap[level.slug] !== 'complete')\n{\nbuf.push(\"<img src=\\\"/images/pages/play/level-banner-unstarted.png\\\" class=\\\"banner\\\"/>\");\n}\nif ( levelDifficultyMap[level.slug])\n{\nbuf.push(\"<div class=\\\"level-difficulty-banner-text\\\">\" + (jade.escape(null == (jade.interp = levelDifficultyMap[level.slug]) ? \"\" : jade.interp)) + \"</div>\");\n}\n}\nbuf.push(\"</div><div\" + (jade.attrs({ 'style':(\"left: \" + (level.position.x) + \"%; bottom: \" + (level.position.y) + \"%\"), \"class\": [(\"level-shadow\" + (level.next ? \" next\" : \"\") + (level.locked ? \" locked\" : \"\") + \" \" + (levelStatusMap[level.slug] || \"\"))] }, {\"style\":true,\"class\":true})) + \"></div><div\" + (jade.attrs({ 'data-level-slug':(level.slug), 'data-level-path':(level.levelPath || 'level'), 'data-level-name':(level.name), \"class\": [('level-info-container')] }, {\"data-level-slug\":true,\"data-level-path\":true,\"data-level-name\":true})) + \">\");\nvar playCount = levelPlayCountMap[level.slug]\nbuf.push(\"<div class=\\\"progress progress-striped active hide\\\"><div style=\\\"width: 100%\\\" class=\\\"progress-bar\\\"></div></div>\");\nvar showsLeaderboard = levelStatusMap[level.slug] === 'complete' && ((level.scoreTypes && level.scoreTypes.length) || ['hero-ladder', 'course-ladder'].indexOf(level.type) !== -1);\nbuf.push(\"<div\" + (jade.attrs({ \"class\": [(\"level-info \" + (levelStatusMap[level.slug] || \"\") + (level.requiresSubscription ? \" premium\" : \"\") + (showsLeaderboard ? \" shows-leaderboard\" : \"\"))] }, {\"class\":true})) + \"><div class=\\\"level-status\\\"></div><h3>\" + (jade.escape(null == (jade.interp = i18n(level, 'name') + (level.disabled ? \" (\" + translate('common.coming_soon') + \")\" : (level.locked ? \" (\" + translate('play.locked') + \")\" : \"\"))) ? \"\" : jade.interp)) + \"</h3>\");\nvar description = i18n(level, 'description') || level.description || \"\"\nbuf.push(\"<div class=\\\"level-description\\\">\" + (null == (jade.interp = marked(description, {sanitize: !picoCTF})) ? \"\" : jade.interp) + \"</div>\");\nif ( level.disabled)\n{\nbuf.push(\"<p><span data-i18n=\\\"play.awaiting_levels_adventurer_prefix\\\" class=\\\"spr\\\">We release five levels per week.</span><a href=\\\"/contribute/adventurer\\\" class=\\\"spr\\\"><strong data-i18n=\\\"play.awaiting_levels_adventurer\\\">Sign up as an Adventurer</strong></a><span data-i18n=\\\"play.awaiting_levels_adventurer_suffix\\\" class=\\\"spl\\\">to be the first to play new levels.</span></p>\");\n}\nif ( level.displayConcepts && level.displayConcepts.length)\n{\nbuf.push(\"<p>\");\n// iterate level.displayConcepts\n;(function(){\n  var $$obj = level.displayConcepts;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var concept = $$obj[$index];\n\nbuf.push(\"<kbd\" + (jade.attrs({ 'data-i18n':(\"concepts.\" + concept) }, {\"data-i18n\":true})) + \"></kbd>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var concept = $$obj[$index];\n\nbuf.push(\"<kbd\" + (jade.attrs({ 'data-i18n':(\"concepts.\" + concept) }, {\"data-i18n\":true})) + \"></kbd>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</p>\");\n}\nif ( !level.disabled && !level.locked)\n{\nif ( playCount && playCount.sessions)\n{\nbuf.push(\"<div class=\\\"play-counts hidden\\\"><span class=\\\"spl spr\\\">\" + (jade.escape(null == (jade.interp = playCount.sessions) ? \"\" : jade.interp)) + \"</span><span data-i18n=\\\"play.players\\\">players</span><span class=\\\"spr\\\">, \" + (jade.escape((jade.interp = Math.round(playCount.playtime / 3600)) == null ? '' : jade.interp)) + \"</span><span data-i18n=\\\"play.hours_played\\\">hours played</span></div>\");\n}\nif ( showsLeaderboard)\n{\nbuf.push(\"<button\" + (jade.attrs({ 'data-level-slug':(level.slug), \"class\": [('btn'),('btn-warning'),('btn'),('btn-lg'),('btn-illustrated'),('view-solutions')] }, {\"data-level-slug\":true})) + \"><span data-i18n=\\\"leaderboard.scores\\\"></span></button>\");\n}\nbuf.push(\"<button data-i18n=\\\"common.play\\\" class=\\\"btn btn-success btn btn-lg btn-illustrated start-level\\\">Play</button>\");\nif ( me.get('courseInstances') && me.get('courseInstances').length)\n{\nbuf.push(\"<div\" + (jade.attrs({ 'data-level-original':(level.original), \"class\": [('course-version'),('hidden')] }, {\"data-level-original\":true})) + \"><em data-i18n=\\\"general.or\\\"></em>...<br/><button class=\\\"btn btn-primary btn btn-lg btn-illustrated\\\"><span data-i18n=\\\"play.play_classroom_version\\\">Play Classroom Version</span></button></div>\");\n}\n}\nbuf.push(\"</div></div>\");\n    }\n\n  }\n}).call(this);\n\n// iterate adjacentCampaigns\n;(function(){\n  var $$obj = adjacentCampaigns;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var adjacentCampaign = $$obj[$index];\n\nbuf.push(\"<a\" + (jade.attrs({ 'href':((editorMode ? \"/editor/campaign/\" : \"/play/\") + adjacentCampaign.slug) }, {\"href\":true})) + \"><span\" + (jade.attrs({ 'style':(adjacentCampaign.style), 'title':(adjacentCampaign.name), 'data-campaign-id':(adjacentCampaign.id), 'data-campaign-slug':(adjacentCampaign.slug), \"class\": [('glyphicon'),('glyphicon-share-alt'),('campaign-switch')] }, {\"style\":true,\"title\":true,\"data-campaign-id\":true,\"data-campaign-slug\":true})) + \"></span></a>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var adjacentCampaign = $$obj[$index];\n\nbuf.push(\"<a\" + (jade.attrs({ 'href':((editorMode ? \"/editor/campaign/\" : \"/play/\") + adjacentCampaign.slug) }, {\"href\":true})) + \"><span\" + (jade.attrs({ 'style':(adjacentCampaign.style), 'title':(adjacentCampaign.name), 'data-campaign-id':(adjacentCampaign.id), 'data-campaign-slug':(adjacentCampaign.slug), \"class\": [('glyphicon'),('glyphicon-share-alt'),('campaign-switch')] }, {\"style\":true,\"title\":true,\"data-campaign-id\":true,\"data-campaign-slug\":true})) + \"></span></a>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\n}\nelse\n{\nbuf.push(\"<div class=\\\"portal\\\"><div class=\\\"portals\\\">\");\n// iterate features.campaignSlugs || ['dungeon', 'beta-campaigns-1', 'forest', 'beta-campaigns-2', 'desert', 'mountain', 'glacier', 'volcano']\n;(function(){\n  var $$obj = features.campaignSlugs || ['dungeon', 'beta-campaigns-1', 'forest', 'beta-campaigns-2', 'desert', 'mountain', 'glacier', 'volcano'];\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var campaignSlug = $$obj[$index];\n\nif ( campaignSlug === 'beta-campaigns-1' || campaignSlug === 'beta-campaigns-2')\n{\nif (features.freeOnly) continue;\nvar betaSlugs = campaignSlug === 'beta-campaigns-1' ? _.shuffle(['campaign-game-dev-1', 'campaign-web-dev-1']) : _.shuffle(['campaign-game-dev-2', 'campaign-web-dev-2']);\nbuf.push(\"<div class=\\\"beta-container\\\">\");\n// iterate betaSlugs\n;(function(){\n  var $$obj = betaSlugs;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var campaignSlug = $$obj[$index];\n\nvar campaign = campaigns[campaignSlug];\nif ( !campaign)\n{\ncontinue;\n}\nbuf.push(\"<div\" + (jade.attrs({ 'data-campaign-slug':(campaignSlug), \"class\": [(\"beta-campaign\" + (campaign ? \"\" : \" silhouette\") + (campaign && campaign.locked && !godmode ? \" locked\" : \"\"))] }, {\"class\":true,\"data-campaign-slug\":true})) + \"><div\" + (jade.attrs({ \"class\": [('background-container'),(\"\" + (campaignSlug) + \"\")] }, {\"class\":true})) + \"></div><div class=\\\"campaign-label\\\"><h3 class=\\\"campaign-name\\\">\");\nif ( campaign)\n{\nbuf.push(\"<span>\" + (jade.escape(null == (jade.interp = i18n(campaign.attributes, 'fullName')) ? \"\" : jade.interp)) + \"</span>\");\nif ( campaign.levelsTotal)\n{\nbuf.push(\"<span class=\\\"spl\\\">\" + (jade.escape(null == (jade.interp = campaign.levelsCompleted) ? \"\" : jade.interp)) + \"</span>/<span>\" + (jade.escape(null == (jade.interp = campaign.levelsTotal) ? \"\" : jade.interp)) + \"</span>\");\n}\n}\nelse\n{\nbuf.push(\"<span>???</span>\");\n}\nbuf.push(\"</h3>\");\nif ( campaign && campaign.locked && !godmode)\n{\nbuf.push(\"<h4 data-i18n=\\\"play.locked\\\" class=\\\"campaign-locked\\\">Locked</h4>\");\n}\nelse if ( campaign)\n{\nbuf.push(\"<btn data-i18n=\\\"common.play\\\" class=\\\"btn btn-illustrated btn-lg btn-primary play-button\\\"></btn>\");\n}\nif ( campaign && campaign.get('description'))\n{\nbuf.push(\"<p class=\\\"campaign-description\\\"><span>\" + (jade.escape(null == (jade.interp = i18n(campaign.attributes, 'description')) ? \"\" : jade.interp)) + \"</span></p>\");\n}\nbuf.push(\"</div></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var campaignSlug = $$obj[$index];\n\nvar campaign = campaigns[campaignSlug];\nif ( !campaign)\n{\ncontinue;\n}\nbuf.push(\"<div\" + (jade.attrs({ 'data-campaign-slug':(campaignSlug), \"class\": [(\"beta-campaign\" + (campaign ? \"\" : \" silhouette\") + (campaign && campaign.locked && !godmode ? \" locked\" : \"\"))] }, {\"class\":true,\"data-campaign-slug\":true})) + \"><div\" + (jade.attrs({ \"class\": [('background-container'),(\"\" + (campaignSlug) + \"\")] }, {\"class\":true})) + \"></div><div class=\\\"campaign-label\\\"><h3 class=\\\"campaign-name\\\">\");\nif ( campaign)\n{\nbuf.push(\"<span>\" + (jade.escape(null == (jade.interp = i18n(campaign.attributes, 'fullName')) ? \"\" : jade.interp)) + \"</span>\");\nif ( campaign.levelsTotal)\n{\nbuf.push(\"<span class=\\\"spl\\\">\" + (jade.escape(null == (jade.interp = campaign.levelsCompleted) ? \"\" : jade.interp)) + \"</span>/<span>\" + (jade.escape(null == (jade.interp = campaign.levelsTotal) ? \"\" : jade.interp)) + \"</span>\");\n}\n}\nelse\n{\nbuf.push(\"<span>???</span>\");\n}\nbuf.push(\"</h3>\");\nif ( campaign && campaign.locked && !godmode)\n{\nbuf.push(\"<h4 data-i18n=\\\"play.locked\\\" class=\\\"campaign-locked\\\">Locked</h4>\");\n}\nelse if ( campaign)\n{\nbuf.push(\"<btn data-i18n=\\\"common.play\\\" class=\\\"btn btn-illustrated btn-lg btn-primary play-button\\\"></btn>\");\n}\nif ( campaign && campaign.get('description'))\n{\nbuf.push(\"<p class=\\\"campaign-description\\\"><span>\" + (jade.escape(null == (jade.interp = i18n(campaign.attributes, 'description')) ? \"\" : jade.interp)) + \"</span></p>\");\n}\nbuf.push(\"</div></div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\n}\nelse\n{\nvar campaign = campaigns[campaignSlug];\nvar godmode = me.get('permissions', true).indexOf('godmode') != -1;\nbuf.push(\"<div\" + (jade.attrs({ 'data-campaign-slug':(campaignSlug), \"class\": [(\"campaign \" + (campaignSlug) + \"\" + (campaign ? \"\" : \" silhouette\") + (campaign && campaign.locked && !godmode ? \" locked\" : \"\"))] }, {\"class\":true,\"data-campaign-slug\":true})) + \"><div class=\\\"campaign-label\\\"><h2 class=\\\"campaign-name\\\">\");\nif ( campaign)\n{\nbuf.push(\"<span>\" + (jade.escape(null == (jade.interp = i18n(campaign.attributes, 'fullName')) ? \"\" : jade.interp)) + \"</span>\");\n}\nelse\n{\nbuf.push(\"<span>???</span>\");\n}\nbuf.push(\"</h2>\");\nif ( campaign && campaign.levelsTotal)\n{\nbuf.push(\"<h3 class=\\\"levels-completed\\\"><span>\" + (jade.escape(null == (jade.interp = campaign.levelsCompleted) ? \"\" : jade.interp)) + \"</span>/<span>\" + (jade.escape(null == (jade.interp = campaign.levelsTotal) ? \"\" : jade.interp)) + \"</span></h3>\");\n}\nif ( campaign && campaign.locked && !godmode)\n{\nbuf.push(\"<h3 data-i18n=\\\"play.locked\\\" class=\\\"campaign-locked\\\">Locked</h3>\");\n}\nelse if ( campaign)\n{\nbuf.push(\"<btn data-i18n=\\\"common.play\\\" class=\\\"btn btn-illustrated btn-lg btn-success play-button\\\"></btn>\");\n}\nif ( campaign && campaign.get('description'))\n{\nbuf.push(\"<p class=\\\"campaign-description\\\"><span>\" + (jade.escape(null == (jade.interp = i18n(campaign.attributes, 'description')) ? \"\" : jade.interp)) + \"</span></p>\");\n}\nbuf.push(\"</div></div>\");\n}\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var campaignSlug = $$obj[$index];\n\nif ( campaignSlug === 'beta-campaigns-1' || campaignSlug === 'beta-campaigns-2')\n{\nif (features.freeOnly) continue;\nvar betaSlugs = campaignSlug === 'beta-campaigns-1' ? _.shuffle(['campaign-game-dev-1', 'campaign-web-dev-1']) : _.shuffle(['campaign-game-dev-2', 'campaign-web-dev-2']);\nbuf.push(\"<div class=\\\"beta-container\\\">\");\n// iterate betaSlugs\n;(function(){\n  var $$obj = betaSlugs;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var campaignSlug = $$obj[$index];\n\nvar campaign = campaigns[campaignSlug];\nif ( !campaign)\n{\ncontinue;\n}\nbuf.push(\"<div\" + (jade.attrs({ 'data-campaign-slug':(campaignSlug), \"class\": [(\"beta-campaign\" + (campaign ? \"\" : \" silhouette\") + (campaign && campaign.locked && !godmode ? \" locked\" : \"\"))] }, {\"class\":true,\"data-campaign-slug\":true})) + \"><div\" + (jade.attrs({ \"class\": [('background-container'),(\"\" + (campaignSlug) + \"\")] }, {\"class\":true})) + \"></div><div class=\\\"campaign-label\\\"><h3 class=\\\"campaign-name\\\">\");\nif ( campaign)\n{\nbuf.push(\"<span>\" + (jade.escape(null == (jade.interp = i18n(campaign.attributes, 'fullName')) ? \"\" : jade.interp)) + \"</span>\");\nif ( campaign.levelsTotal)\n{\nbuf.push(\"<span class=\\\"spl\\\">\" + (jade.escape(null == (jade.interp = campaign.levelsCompleted) ? \"\" : jade.interp)) + \"</span>/<span>\" + (jade.escape(null == (jade.interp = campaign.levelsTotal) ? \"\" : jade.interp)) + \"</span>\");\n}\n}\nelse\n{\nbuf.push(\"<span>???</span>\");\n}\nbuf.push(\"</h3>\");\nif ( campaign && campaign.locked && !godmode)\n{\nbuf.push(\"<h4 data-i18n=\\\"play.locked\\\" class=\\\"campaign-locked\\\">Locked</h4>\");\n}\nelse if ( campaign)\n{\nbuf.push(\"<btn data-i18n=\\\"common.play\\\" class=\\\"btn btn-illustrated btn-lg btn-primary play-button\\\"></btn>\");\n}\nif ( campaign && campaign.get('description'))\n{\nbuf.push(\"<p class=\\\"campaign-description\\\"><span>\" + (jade.escape(null == (jade.interp = i18n(campaign.attributes, 'description')) ? \"\" : jade.interp)) + \"</span></p>\");\n}\nbuf.push(\"</div></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var campaignSlug = $$obj[$index];\n\nvar campaign = campaigns[campaignSlug];\nif ( !campaign)\n{\ncontinue;\n}\nbuf.push(\"<div\" + (jade.attrs({ 'data-campaign-slug':(campaignSlug), \"class\": [(\"beta-campaign\" + (campaign ? \"\" : \" silhouette\") + (campaign && campaign.locked && !godmode ? \" locked\" : \"\"))] }, {\"class\":true,\"data-campaign-slug\":true})) + \"><div\" + (jade.attrs({ \"class\": [('background-container'),(\"\" + (campaignSlug) + \"\")] }, {\"class\":true})) + \"></div><div class=\\\"campaign-label\\\"><h3 class=\\\"campaign-name\\\">\");\nif ( campaign)\n{\nbuf.push(\"<span>\" + (jade.escape(null == (jade.interp = i18n(campaign.attributes, 'fullName')) ? \"\" : jade.interp)) + \"</span>\");\nif ( campaign.levelsTotal)\n{\nbuf.push(\"<span class=\\\"spl\\\">\" + (jade.escape(null == (jade.interp = campaign.levelsCompleted) ? \"\" : jade.interp)) + \"</span>/<span>\" + (jade.escape(null == (jade.interp = campaign.levelsTotal) ? \"\" : jade.interp)) + \"</span>\");\n}\n}\nelse\n{\nbuf.push(\"<span>???</span>\");\n}\nbuf.push(\"</h3>\");\nif ( campaign && campaign.locked && !godmode)\n{\nbuf.push(\"<h4 data-i18n=\\\"play.locked\\\" class=\\\"campaign-locked\\\">Locked</h4>\");\n}\nelse if ( campaign)\n{\nbuf.push(\"<btn data-i18n=\\\"common.play\\\" class=\\\"btn btn-illustrated btn-lg btn-primary play-button\\\"></btn>\");\n}\nif ( campaign && campaign.get('description'))\n{\nbuf.push(\"<p class=\\\"campaign-description\\\"><span>\" + (jade.escape(null == (jade.interp = i18n(campaign.attributes, 'description')) ? \"\" : jade.interp)) + \"</span></p>\");\n}\nbuf.push(\"</div></div>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\n}\nelse\n{\nvar campaign = campaigns[campaignSlug];\nvar godmode = me.get('permissions', true).indexOf('godmode') != -1;\nbuf.push(\"<div\" + (jade.attrs({ 'data-campaign-slug':(campaignSlug), \"class\": [(\"campaign \" + (campaignSlug) + \"\" + (campaign ? \"\" : \" silhouette\") + (campaign && campaign.locked && !godmode ? \" locked\" : \"\"))] }, {\"class\":true,\"data-campaign-slug\":true})) + \"><div class=\\\"campaign-label\\\"><h2 class=\\\"campaign-name\\\">\");\nif ( campaign)\n{\nbuf.push(\"<span>\" + (jade.escape(null == (jade.interp = i18n(campaign.attributes, 'fullName')) ? \"\" : jade.interp)) + \"</span>\");\n}\nelse\n{\nbuf.push(\"<span>???</span>\");\n}\nbuf.push(\"</h2>\");\nif ( campaign && campaign.levelsTotal)\n{\nbuf.push(\"<h3 class=\\\"levels-completed\\\"><span>\" + (jade.escape(null == (jade.interp = campaign.levelsCompleted) ? \"\" : jade.interp)) + \"</span>/<span>\" + (jade.escape(null == (jade.interp = campaign.levelsTotal) ? \"\" : jade.interp)) + \"</span></h3>\");\n}\nif ( campaign && campaign.locked && !godmode)\n{\nbuf.push(\"<h3 data-i18n=\\\"play.locked\\\" class=\\\"campaign-locked\\\">Locked</h3>\");\n}\nelse if ( campaign)\n{\nbuf.push(\"<btn data-i18n=\\\"common.play\\\" class=\\\"btn btn-illustrated btn-lg btn-success play-button\\\"></btn>\");\n}\nif ( campaign && campaign.get('description'))\n{\nbuf.push(\"<p class=\\\"campaign-description\\\"><span>\" + (jade.escape(null == (jade.interp = i18n(campaign.attributes, 'description')) ? \"\" : jade.interp)) + \"</span></p>\");\n}\nbuf.push(\"</div></div>\");\n}\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div></div>\");\n}\nbuf.push(\"<div class=\\\"game-controls header-font picoctf-hide\\\"><button data-i18n=\\\"[title]play.poll\\\" class=\\\"btn poll hidden\\\"></button>\");\nif ( !features.codePlay)\n{\nbuf.push(\"<a href=\\\"/clans\\\" data-i18n=\\\"[title]clans.clans\\\" class=\\\"btn clans\\\"></a>\");\n}\nbuf.push(\"<button data-toggle=\\\"coco-modal\\\" data-target=\\\"play/modal/PlayItemsModal\\\" data-i18n=\\\"[title]play.items\\\" class=\\\"btn items\\\"></button><button data-toggle=\\\"coco-modal\\\" data-target=\\\"play/modal/PlayHeroesModal\\\" data-i18n=\\\"[title]play.heroes\\\" class=\\\"btn heroes\\\"></button><button data-toggle=\\\"coco-modal\\\" data-target=\\\"play/modal/PlayAchievementsModal\\\" data-i18n=\\\"[title]play.achievements\\\" class=\\\"btn achievements\\\"></button>\");\nif ( !me.get('anonymous', true) && !features.codePlay)\n{\nbuf.push(\"<a href=\\\"/account/settings\\\" data-original-title=\\\"Configuração\\\" class=\\\"btn account\\\"></a>\");\n}\nbuf.push(\"</div><div class=\\\"user-status header-font picoctf-hide\\\"><div class=\\\"user-status-line\\\"><span class=\\\"gem gem-30\\\"></span><span id=\\\"gems-count\\\" class=\\\"spr\\\">\" + (jade.escape(null == (jade.interp = me.gems()) ? \"\" : jade.interp)) + \"</span><span data-i18n=\\\"general.player_level\\\" class=\\\"level-indicator\\\"></span><span class=\\\"player-level spr\\\">\" + (jade.escape(null == (jade.interp = me.level()) ? \"\" : jade.interp)) + \"</span><span class=\\\"player-hero-icon\\\"></span>\");\nif ( me.get('anonymous'))\n{\nbuf.push(\"<span data-i18n=\\\"play.anonymous\\\" class=\\\"player-name spr\\\">Anonymous Player</span><button data-i18n=\\\"login.log_in\\\" class=\\\"btn btn-illustrated login-button btn-warning\\\"></button><button data-i18n=\\\"signup.sign_up\\\" class=\\\"btn btn-illustrated signup-button btn-danger\\\"></button>\");\n}\nelse\n{\nbuf.push(\"<a href=\\\"/account/settings\\\" class=\\\"player-name spr\\\">\" + (jade.escape(null == (jade.interp = me.get('name')) ? \"\" : jade.interp)) + \"</a><button id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\" class=\\\"btn btn-illustrated btn-warning\\\">Log Out</button>\");\nif ( me.isPremium())\n{\nbuf.push(\"<button data-i18n=\\\"nav.contact\\\" data-toggle=\\\"coco-modal\\\" data-target=\\\"core/ContactModal\\\" class=\\\"btn btn-illustrated btn-primary\\\">Contact</button>\");\n}\n}\nbuf.push(\"</div></div><button id=\\\"volume-button\\\" data-i18n=\\\"[title]play.adjust_volume\\\" title=\\\"Adjust volume\\\" class=\\\"btn btn-lg btn-inverse campaign-control-button picoctf-hide\\\"><div class=\\\"glyphicon glyphicon-volume-off\\\"></div><div class=\\\"glyphicon glyphicon-volume-down\\\"></div><div class=\\\"glyphicon glyphicon-volume-up\\\"></div></button>\");\nif ( campaign && !editorMode)\n{\nbuf.push(\"<button id=\\\"back-button\\\" data-i18n=\\\"[title]resources.campaigns\\\" title=\\\"Campaigns\\\" class=\\\"btn btn-lg btn-inverse campaign-control-button picoctf-hide\\\"><div class=\\\"glyphicon glyphicon-globe\\\"></div></button>\");\n}\nif ( editorMode)\n{\nbuf.push(\"<button id=\\\"clear-storage-button\\\" data-i18n=\\\"[title]editor.clear_storage\\\" title=\\\"Clear your local changes\\\" class=\\\"btn btn-lg btn-inverse campaign-control-button\\\"><div class=\\\"glyphicon glyphicon-refresh\\\"></div></button>\");\n}\nif ( campaign && campaign.loaded)\n{\nbuf.push(\"<h1 id=\\\"campaign-status\\\" class=\\\"picoctf-hide\\\"><div class=\\\"campaign-status-background\\\"><div class=\\\"campaign-name\\\"><span>\" + (jade.escape(null == (jade.interp = i18n(campaign.attributes, 'fullName')) ? \"\" : jade.interp)) + \"</span></div><div class=\\\"levels-completed\\\"><span>\" + (jade.escape(null == (jade.interp = levelsCompleted) ? \"\" : jade.interp)) + \"</span>/<span>\" + (jade.escape(null == (jade.interp = levelsTotal) ? \"\" : jade.interp)) + \"</span></div></div></h1>\");\n}\nbuf.push(\"</div>\");\nif ( campaign && !me.finishedAnyLevels() && serverConfig.showCodePlayAds)\n{\nbuf.push(\"<a href=\\\"https://lenovogamestate.com/\\\">\");\nvar url = \"/images/common/codeplay/NA_LevelsPage_Cube_160x480.png\"\nif ( me.isFromUk())\n{\nurl = \"/images/common/codeplay/UK_LevelsPage_Cube_160x480.png\"\n}\nbuf.push(\"<img\" + (jade.attrs({ 'id':('codeplay-ad'), 'src':(url) }, {\"src\":true})) + \"/></a>\");\n};return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}