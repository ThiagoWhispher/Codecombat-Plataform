{"version":3,"sources":["app/views/AboutView.coffee"],"names":[],"mappings":";AAAA;EAAA;;;AAAA,WAAW,QAAQ,qBAAR;;AACX,WAAW,QAAQ,iBAAR;;AAEX,MAAM,CAAC,OAAP,GAAuB;;;;;;;sBACrB,KAAI;;sBACJ,WAAU;;sBAEV,oBAAmB;;sBAEnB,SACE;IAAA,sBAAsB,qBAAtB;IACA,2BAA2B,wBAD3B;IAEA,wBAAwB,eAFxB;IAGA,yBAAyB,gBAHzB;;;sBAKF,YACE;IAAA,SAAS,gBAAT;IACA,QAAQ,eADR;IAEA,OAAO,iBAFP;;;sBAIF,WAAU;AAAG,WAAO,CAAC,CAAC,IAAI,CAAC,CAAP,CAAS,WAAT;EAAV;;sBAEV,cAAa;IACX,4CAAM,SAAN;IACA,IAAC,EAAD,CAAG,YAAH,CAAgB,CAAC,KAAjB,CAAuB;MACrB,QACE;QAAA,KAAK;iBACH,EAAE,gBAAF,CAAmB,CAAC,MAApB,EAA4B,CAAC;QAD1B,CAAL;OAFmB;KAAvB;IAMA,EAAE,MAAF,CAAS,CAAC,SAAV,CACE;MAAA,QAAQ,gBAAR;MACA,QAAQ,GADR;KADF;IAIA,IAAC,EAAD,CAAG,sBAAH,CAA0B,CAAC,KAA3B;WAEA,IAAC,EAAD,CAAG,sBAAH,CAA0B,CAAC,QAA3B,CAAoC;MAClC,UAAU,CADwB;MAElC,UAAU,KAFwB;KAApC;EAdW;;sBAmBb,cAAa;AAEX;IAAA,IAAI;aAAA;AACF;QAAA,IAAU,KAAC,UAAX;AAAA;;QACA,OAAO,EAAE,QAAQ,CAAC,QAAQ,CAAC,IAApB;QACP,IAAG,IAAI,CAAC,MAAR;iBACE,KAAC,aAAD,CAAc,QAAQ,CAAC,QAAQ,CAAC,IAAhC,EAAsC,CAAtC,EADF;;MAHE;IAAA;WAKJ,CAAC,CAAC,KAAF,CAAQ,CAAR,EAAW,GAAX;EAPW;;sBASb,sBAAqB,SAAC,KAAD;AACnB;IAAA,KAAK,CAAC,cAAN;IACA,OAAO,EAAE,KAAK,CAAC,MAAR,CAAe,CAAC,OAAhB,CAAwB,GAAxB;IACP,SAAS,IAAI,CAAC,IAAL,CAAU,MAAV;IACT,OAAO,CAAC,YAAR,CAAqB,IAArB,EAA2B,IAA3B,EAAiC,UAAQ,MAAzC;WACA,IAAC,aAAD,CAAc,MAAd;EALmB;;sBAOrB,iBAAgB,SAAC,KAAD;AAEd;IAAA,IAAU,KAAK,CAAC,IAAN,KAAc,SAAd,IAA4B,EAAE,QAAQ,CAAC,aAAX,CAAyB,CAAC,EAA1B,CAA6B,mBAA7B,CAAtC;AAAA;;IACA,oEAA6C,CAAE,gBAA/C;MACE,KAAK,CAAC,cAAN;aACA,EAAE,sBAAF,CAAyB,CAAC,QAA1B,CAAmC,MAAnC,EAFF;;EAHc;;sBAOhB,gBAAe,SAAC,KAAD;AACb;IAAA,IAAU,KAAK,CAAC,IAAN,KAAc,SAAd,IAA4B,EAAE,QAAQ,CAAC,aAAX,CAAyB,CAAC,EAA1B,CAA6B,mBAA7B,CAAtC;AAAA;;IACA,oEAA6C,CAAE,gBAA/C;MACE,KAAK,CAAC,cAAN;aACA,EAAE,sBAAF,CAAyB,CAAC,QAA1B,CAAmC,MAAnC,EAFF;;EAFa;;sBAMf,kBAAiB,SAAC,KAAD;AACf;IAAA,oEAA6C,CAAE,gBAA/C;MACE,KAAK,CAAC,cAAN;aACA,EAAE,sBAAF,CAAyB,CAAC,KAA1B,CAAgC,MAAhC,EAFF;;EADe;;sBAKjB,yBAAwB,SAAC,KAAD;AACtB;IAAA,sEAAiD,CAAE,iBAAnD;MACE,KAAK,CAAC,cAAN;aAEA,EAAE,sBAAF,CAAyB,CAAC,QAA1B,CAAmC,EAAE,KAAK,CAAC,aAAR,CAAsB,CAAC,IAAvB,CAA4B,OAA5B,CAAnC,EAHF;;EADsB;;;;GAxEe","file":"public/javascripts/app/views/AboutView.js","sourcesContent":["RootView = require 'views/core/RootView'\r\ntemplate = require 'templates/about'\r\n\r\nmodule.exports = class AboutView extends RootView\r\n  id: 'about-view'\r\n  template: template\r\n\r\n  logoutRedirectURL: false\r\n\r\n  events:\r\n    'click #fixed-nav a': 'onClickFixedNavLink'\r\n    'click .screen-thumbnail': 'onClickScreenThumbnail'\r\n    'click #carousel-left': 'onLeftPressed'\r\n    'click #carousel-right': 'onRightPressed'\r\n\r\n  shortcuts:\r\n    'right': 'onRightPressed'\r\n    'left': 'onLeftPressed'\r\n    'esc': 'onEscapePressed'\r\n\r\n  getTitle: -> return $.i18n.t('nav.about')\r\n\r\n  afterRender: ->\r\n    super(arguments...)\r\n    @$('#fixed-nav').affix({\r\n      offset:\r\n        top: ->\r\n          $('#nav-container').offset().top\r\n    })\r\n    #TODO: Maybe cache top value between page resizes to save CPU\r\n    $('body').scrollspy(\r\n      target: '#nav-container'\r\n      offset: 150\r\n    )\r\n    @$('#screenshot-lightbox').modal()\r\n\r\n    @$('#screenshot-carousel').carousel({\r\n      interval: 0\r\n      keyboard: false\r\n    })\r\n\r\n  afterInsert: ->\r\n    # scroll to the current hash, once everything in the browser is set up\r\n    f = =>\r\n      return if @destroyed\r\n      link = $(document.location.hash)\r\n      if link.length\r\n        @scrollToLink(document.location.hash, 0)\r\n    _.delay(f, 100)\r\n\r\n  onClickFixedNavLink: (event) ->\r\n    event.preventDefault() # prevent default page scroll\r\n    link = $(event.target).closest('a')\r\n    target = link.attr('href')\r\n    history.replaceState(null, null, \"about#{target}\") # update hash without triggering page scroll\r\n    @scrollToLink(target)\r\n\r\n  onRightPressed: (event) ->\r\n    # Special handling, otherwise after you click the control, keyboard presses move the slide twice\r\n    return if event.type is 'keydown' and $(document.activeElement).is('.carousel-control')\r\n    if $('#screenshot-lightbox').data('bs.modal')?.isShown\r\n      event.preventDefault()\r\n      $('#screenshot-carousel').carousel('next')\r\n\r\n  onLeftPressed: (event) ->\r\n    return if event.type is 'keydown' and $(document.activeElement).is('.carousel-control')\r\n    if $('#screenshot-lightbox').data('bs.modal')?.isShown\r\n      event.preventDefault()\r\n      $('#screenshot-carousel').carousel('prev')\r\n\r\n  onEscapePressed: (event) ->\r\n    if $('#screenshot-lightbox').data('bs.modal')?.isShown\r\n      event.preventDefault()\r\n      $('#screenshot-lightbox').modal('hide')\r\n\r\n  onClickScreenThumbnail: (event) ->\r\n    unless $('#screenshot-lightbox').data('bs.modal')?.isShown\r\n      event.preventDefault()\r\n      # Modal opening happens automatically from bootstrap\r\n      $('#screenshot-carousel').carousel($(event.currentTarget).data(\"index\"))\r\n"]}