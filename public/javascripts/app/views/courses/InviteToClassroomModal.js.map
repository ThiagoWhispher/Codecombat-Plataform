{"version":3,"sources":["app/templates/courses/invite-to-classroom-modal.jade","app/views/courses/InviteToClassroomModal.coffee"],"names":[],"mappings":"AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAAA;;ACAA;EAAA;;;AAAA,YAAY,QAAQ,sBAAR;;AACZ,WAAW,QAAQ,6CAAR;;AAEX,MAAM,CAAC,OAAP,GAAuB;;;;;;;mCACrB,KAAI;;mCACJ,WAAU;;mCAEV,SACE;IAAA,2BAA2B,0BAA3B;IACA,wCAAwC,SADxC;;;mCAGF,aAAY,SAAC,OAAD;IACV,IAAC,UAAD,GAAa,OAAO,CAAC;IACrB,IAAC,UAAD,GAAa,IAAC,UAAS,CAAC,GAAX,CAAe,WAAf,KAA+B,IAAC,UAAS,CAAC,GAAX,CAAe,MAAf;WAC5C,IAAC,QAAD,GAAW,QAAQ,CAAC,QAAQ,CAAC,MAAlB,GAA2B,gBAA3B,GAA8C,IAAC;EAHhD;;mCAKZ,2BAA0B;AACxB;IAAA,SAAS,IAAC,EAAD,CAAG,yBAAH,CAA6B,CAAC,GAA9B;IACT,SAAS,MAAM,CAAC,KAAP,CAAa,IAAb;IACT,SAAS,CAAC,CAAC,MAAF;;AAAU;WAAA;;qBAAA,CAAC,CAAC,MAAM,CAAC,IAAT,CAAc,KAAd;AAAA;;QAAV;IACT,IAAG,CAAI,MAAM,CAAC,MAAd;AACE,aADF;;IAGA,IAAC,EAAD,CAAG,4CAAH,CAAgD,CAAC,QAAjD,CAA0D,MAA1D;IACA,IAAC,EAAD,CAAG,8BAAH,CAAkC,CAAC,WAAnC,CAA+C,MAA/C;;SACmB,CAAE,UAArB,CAAgC,4BAAhC,EAA8D;QAAA,UAAU,SAAV;QAAqB,aAAa,IAAC,UAAS,CAAC,EAA7C;QAAiD,QAAQ,MAAzD;OAA9D;;WACA,IAAC,UAAS,CAAC,aAAX,CAAyB,MAAzB,EAAiC;MAC/B,SAAS;eAAA;UACP,KAAC,EAAD,CAAG,8BAAH,CAAkC,CAAC,QAAnC,CAA4C,MAA5C;iBACA,KAAC,EAAD,CAAG,8BAAH,CAAkC,CAAC,WAAnC,CAA+C,MAA/C;QAFO;MAAA,QADsB;KAAjC;EAVwB;;mCAgB1B,UAAS;AACP;IAAA,IAAC,EAAD,CAAG,iBAAH,CAAqB,CAAC,GAAtB,CAA0B,IAAC,QAA3B,CAAmC,CAAC,MAApC;AACA;MACE,QAAQ,CAAC,WAAT,CAAqB,MAArB;MACA,IAAC,EAAD,CAAG,eAAH,CAAmB,CAAC,WAApB,CAAgC,MAAhC;sDACmB,CAAE,UAArB,CAAgC,oBAAhC,EAAsD;QAAA,UAAU,SAAV;QAAqB,aAAa,IAAC,UAAS,CAAC,EAA7C;QAAiD,KAAK,IAAC,QAAvD;OAAtD,WAHF;KAAA;MAIM;MACJ,OAAO,CAAC,GAAR,CAAY,sBAAZ,EAAoC,GAApC;aACA,IAAC,EAAD,CAAG,oBAAH,CAAwB,CAAC,WAAzB,CAAqC,MAArC,EANF;;EAFO;;;;GA7B2C","file":"public/javascripts/app/views/courses/InviteToClassroomModal.js","sourcesContent":["var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view;buf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content style-flat\\\"><div class=\\\"modal-header\\\">\");\nif ( view.closeButton)\n{\nbuf.push(\"<div type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"button close\\\">&times;</div>\");\n}\nbuf.push(\"</div><div class=\\\"modal-body\\\"><h3 data-i18n=\\\"courses.option1_header\\\"></h3><div class=\\\"form\\\"><div class=\\\"form-group\\\"><p data-i18n=\\\"courses.enter_emails\\\" class=\\\"small help-block\\\"></p><textarea id=\\\"invite-emails-textarea\\\" rows=\\\"10\\\" class=\\\"form-control\\\"></textarea></div><div class=\\\"form-group\\\"><div class=\\\"text-center\\\"><button id=\\\"send-invites-btn\\\" data-i18n=\\\"courses.send_invites\\\" class=\\\"btn btn-lg btn-primary\\\"></button><div id=\\\"invite-emails-sending-alert\\\" data-i18n=\\\"common.sending\\\" class=\\\"alert alert-info hide\\\"></div><div id=\\\"invite-emails-success-alert\\\" data-i18n=\\\"play_level.done\\\" class=\\\"alert alert-success hide\\\"></div></div></div></div><br/><p data-i18n=\\\"courses.option1_body\\\" class=\\\"small\\\"></p></div><div class=\\\"modal-body wait secret\\\"><h3>Reticulating Splines...</h3><div class=\\\"progress progress-striped active\\\"><div class=\\\"progress-bar\\\"></div></div></div><div class=\\\"modal-footer\\\"></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","ModalView = require 'views/core/ModalView'\r\ntemplate = require 'templates/courses/invite-to-classroom-modal'\r\n\r\nmodule.exports = class InviteToClassroomModal extends ModalView\r\n  id: 'invite-to-classroom-modal'\r\n  template: template\r\n\r\n  events:\r\n    'click #send-invites-btn': 'onClickSendInvitesButton'\r\n    'click #copy-url-btn, #join-url-input': 'copyURL'\r\n\r\n  initialize: (options) ->\r\n    @classroom = options.classroom\r\n    @classCode = @classroom.get('codeCamel') || @classroom.get('code')\r\n    @joinURL = document.location.origin + \"/students?_cc=\" + @classCode\r\n\r\n  onClickSendInvitesButton: ->\r\n    emails = @$('#invite-emails-textarea').val()\r\n    emails = emails.split('\\n')\r\n    emails = _.filter((_.string.trim(email) for email in emails))\r\n    if not emails.length\r\n      return\r\n    \r\n    @$('#send-invites-btn, #invite-emails-textarea').addClass('hide')\r\n    @$('#invite-emails-sending-alert').removeClass('hide')\r\n    application.tracker?.trackEvent 'Classroom invite via email', category: 'Courses', classroomID: @classroom.id, emails: emails\r\n    @classroom.inviteMembers(emails, {\r\n      success: =>\r\n        @$('#invite-emails-sending-alert').addClass('hide')\r\n        @$('#invite-emails-success-alert').removeClass('hide')\r\n    })\r\n\r\n  copyURL: ->\r\n    @$('#join-url-input').val(@joinURL).select()\r\n    try\r\n      document.execCommand('copy')\r\n      @$('#copied-alert').removeClass('hide')\r\n      application.tracker?.trackEvent 'Classroom copy URL', category: 'Courses', classroomID: @classroom.id, url: @joinURL\r\n    catch err\r\n      console.log('Oops, unable to copy', err)\r\n      @$('#copy-failed-alert').removeClass('hide')\r\n"]}