{"version":3,"sources":["app/views/core/CreateAccountModal/CoppaDenyView.coffee"],"names":[],"mappings":";AAAA;EAAA;;;AAAA,WAAW,QAAQ,qBAAR;;AACX,QAAQ,QAAQ,cAAR;;AACR,WAAW,QAAQ,qDAAR;;AACX,QAAQ,QAAQ,YAAR;;AACR,UAAU,QAAQ,cAAR;;AAEV,MAAM,CAAC,OAAP,GAAuB;;;;;;;0BACrB,KAAI;;0BACJ,WAAU;;0BAEV,SACE;IAAA,mCAAmC,8BAAnC;IACA,oCAAoC,qBADpC;IAEA,mBAAmB,mBAFnB;;;0BAIF,aAAY,SAAC,GAAD;IAAG,IAAC,8BAAH,MAAmB,IAAhB;IACd,IAAC,MAAD,GAAa,UAAM;MAAE,aAAa,EAAf;KAAN;WACb,IAAC,SAAD,CAAU,IAAC,MAAX,EAAkB,KAAlB,EAAyB,CAAC,CAAC,QAAF,CAAW,IAAC,OAAZ,CAAzB;EAFU;;0BAIZ,sBAAqB,SAAC,CAAD;WACnB,IAAC,MAAK,CAAC,GAAP,CAAW;MAAE,aAAa,EAAE,CAAC,CAAC,aAAJ,CAAkB,CAAC,GAAnB,EAAf;KAAX,EAAsD;MAAE,QAAQ,IAAV;KAAtD;EADmB;;0BAGrB,+BAA8B,SAAC,CAAD;IAC5B,CAAC,CAAC,cAAF;IACA,IAAC,MAAK,CAAC,GAAP,CAAW;MAAE,oBAAoB,IAAtB;KAAX;WACA,OAAO,CAAC,4BAAR,CAAqC,IAAC,MAAK,CAAC,GAAP,CAAW,aAAX,CAArC,CACE,CAAC,IADH,CACQ;aAAA;eACJ,KAAC,MAAK,CAAC,GAAP,CAAW;UAAE,OAAO,KAAT;UAAgB,iBAAiB,IAAjC;UAAuC,oBAAoB,KAA3D;SAAX;MADI;IAAA,QADR,CAGE,CAAC,OAAD,CAHF,CAGS;aAAA;eACL,KAAC,MAAK,CAAC,GAAP,CAAW;UAAE,OAAO,IAAT;UAAe,iBAAiB,KAAhC;UAAuC,oBAAoB,KAA3D;SAAX;MADK;IAAA,QAHT;EAH4B;;0BAS9B,oBAAmB;WACjB,IAAC,QAAD,CAAS,UAAT;EADiB;;;;GAzBwB","file":"public/javascripts/app/views/core/CreateAccountModal/CoppaDenyView.js","sourcesContent":["CocoView = require 'views/core/CocoView'\r\nState = require 'models/State'\r\ntemplate = require 'templates/core/create-account-modal/coppa-deny-view'\r\nforms = require 'core/forms'\r\ncontact = require 'core/contact'\r\n\r\nmodule.exports = class CoppaDenyView extends CocoView\r\n  id: 'coppa-deny-view'\r\n  template: template\r\n\r\n  events:\r\n    'click .send-parent-email-button': 'onClickSendParentEmailButton'\r\n    'change input[name=\"parentEmail\"]': 'onChangeParentEmail'\r\n    'click .back-btn': 'onClickBackButton'\r\n    \r\n  initialize: ({ @signupState } = {}) ->\r\n    @state = new State({ parentEmail: '' })\r\n    @listenTo @state, 'all', _.debounce(@render)\r\n    \r\n  onChangeParentEmail: (e) ->\r\n    @state.set { parentEmail: $(e.currentTarget).val() }, { silent: true }\r\n\r\n  onClickSendParentEmailButton: (e) ->\r\n    e.preventDefault()\r\n    @state.set({ parentEmailSending: true })\r\n    contact.sendParentSignupInstructions(@state.get('parentEmail'))\r\n      .then =>\r\n        @state.set({ error: false, parentEmailSent: true, parentEmailSending: false })\r\n      .catch =>\r\n        @state.set({ error: true, parentEmailSent: false, parentEmailSending: false })\r\n\r\n  onClickBackButton: ->\r\n    @trigger 'nav-back'\r\n"]}