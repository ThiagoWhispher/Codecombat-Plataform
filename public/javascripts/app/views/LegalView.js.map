{"version":3,"sources":["app/views/LegalView.coffee"],"names":[],"mappings":";AAAA;EAAA;;;AAAA,WAAW,QAAQ,qBAAR;;AACX,WAAW,QAAQ,iBAAR;;AACX,WAAW,QAAQ,sBAAR;;AAEX,MAAM,CAAC,OAAP,GAAuB;;;;;;;sBACrB,KAAI;;sBACJ,WAAU;;sBAEV,aAAY;IACV,IAAC,SAAD,GAAgB;WAChB,IAAC,WAAU,CAAC,cAAZ,CAA2B,IAAC,SAA5B,EAAsC,UAAtC;EAFU;;sBAIZ,cAAa;AACX;IAAA;IACA,WAAW,IAAC,SAAQ,CAAC,SAAV,CAAoB;MAAC,MAAM,oBAAP;KAApB;IACX,KAAc,QAAd;AAAA;;IACA,OAAO,CAAC,CAAC,IAAI,CAAC,CAAP,CAAS,wBAAT;IACP,OAAO,IAAI,CAAC,OAAL,CAAa,WAAb,EAA0B,CAAC,QAAQ,CAAC,GAAT,CAAa,QAAb,IAAyB,GAA1B,CAA8B,CAAC,OAA/B,CAAuC,CAAvC,CAA1B;IACP,OAAO,IAAI,CAAC,OAAL,CAAa,UAAb,EAAyB,QAAQ,CAAC,GAAT,CAAa,MAAb,CAAzB;WACP,IAAC,EAAD,CAAG,mBAAH,CAAuB,CAAC,IAAxB,CAA6B,IAA7B;EAPW;;;;GAR0B","file":"public/javascripts/app/views/LegalView.js","sourcesContent":["RootView = require 'views/core/RootView'\r\ntemplate = require 'templates/legal'\r\nProducts = require 'collections/Products'\r\n\r\nmodule.exports = class LegalView extends RootView\r\n  id: 'legal-view'\r\n  template: template\r\n\r\n  initialize: ->\r\n    @products = new Products()\r\n    @supermodel.loadCollection(@products, 'products')\r\n\r\n  afterRender: ->\r\n    super()\r\n    basicSub = @products.findWhere({name: 'basic_subscription'})\r\n    return unless basicSub\r\n    text = $.i18n.t('legal.cost_description')\r\n    text = text.replace('{{price}}', (basicSub.get('amount') / 100).toFixed(2))\r\n    text = text.replace('{{gems}}', basicSub.get('gems'))\r\n    @$('#cost-description').text(text)\r\n"]}