{"version":3,"sources":["app/views/i18n/I18NEditLevelView.coffee"],"names":[],"mappings":"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","file":"public/javascripts/app/views/i18n/I18NEditLevelView.js","sourcesContent":["I18NEditModelView = require './I18NEditModelView'\r\nLevel = require 'models/Level'\r\nLevelComponent = require 'models/LevelComponent'\r\n\r\nmodule.exports = class I18NEditLevelView extends I18NEditModelView\r\n  id: 'i18n-edit-level-view'\r\n  modelClass: Level\r\n\r\n  buildTranslationList: ->\r\n    lang = @selectedLanguage\r\n\r\n    # name, description\r\n    if i18n = @model.get('i18n')\r\n      if name = @model.get('name')\r\n        @wrapRow 'Level name', ['name'], name, i18n[lang]?.name, []\r\n      if description = @model.get('description')\r\n        @wrapRow 'Level description', ['description'], description, i18n[lang]?.description, []\r\n      if loadingTip = @model.get('loadingTip')\r\n        @wrapRow 'Loading tip', ['loadingTip'], loadingTip, i18n[lang]?.loadingTip, []\r\n      if studentPlayInstructions = @model.get('studentPlayInstructions')\r\n        @wrapRow 'Student Play Instructions', ['studentPlayInstructions'], studentPlayInstructions, i18n[lang]?.studentPlayInstructions, []\r\n\r\n    # goals\r\n    for goal, index in @model.get('goals') ? []\r\n      if i18n = goal.i18n\r\n        @wrapRow 'Goal name', ['name'], goal.name, i18n[lang]?.name, ['goals', index]\r\n\r\n    # documentation\r\n    for doc, index in @model.get('documentation')?.specificArticles ? []\r\n      if i18n = doc.i18n\r\n        @wrapRow 'Guide article name', ['name'], doc.name, i18n[lang]?.name, ['documentation', 'specificArticles', index]\r\n        @wrapRow \"'#{doc.name}' body\", ['body'], doc.body, i18n[lang]?.body, ['documentation', 'specificArticles', index], 'markdown'\r\n\r\n    # hints\r\n    for hint, index in @model.get('documentation')?.hints ? []\r\n      if i18n = hint.i18n\r\n        name = \"Hint #{index+1}\"\r\n        @wrapRow \"'#{name}' body\", ['body'], hint.body, i18n[lang]?.body, ['documentation', 'hints', index], 'markdown'\r\n    for hint, index in @model.get('documentation')?.hintsB ? []\r\n      if i18n = hint.i18n\r\n        name = \"Hint #{index+1}\"\r\n        @wrapRow \"'#{name}' body\", ['body'], hint.body, i18n[lang]?.body, ['documentation', 'hints', index], 'markdown'\r\n\r\n    # sprite dialogues\r\n    for script, scriptIndex in @model.get('scripts') ? []\r\n      for noteGroup, noteGroupIndex in script.noteChain ? []\r\n        for spriteCommand, spriteCommandIndex in noteGroup.sprites ? []\r\n          pathPrefix = ['scripts', scriptIndex, 'noteChain', noteGroupIndex, 'sprites', spriteCommandIndex, 'say']\r\n\r\n          if i18n = spriteCommand.say?.i18n\r\n            if spriteCommand.say.text\r\n              @wrapRow 'Sprite text', ['text'], spriteCommand.say.text, i18n[lang]?.text, pathPrefix, 'markdown'\r\n            if spriteCommand.say.blurb\r\n              @wrapRow 'Sprite blurb', ['blurb'], spriteCommand.say.blurb, i18n[lang]?.blurb, pathPrefix\r\n\r\n          for response, responseIndex in spriteCommand.say?.responses ? []\r\n            if i18n = response.i18n\r\n              @wrapRow 'Response button', ['text'], response.text, i18n[lang]?.text, pathPrefix.concat(['responses', responseIndex])\r\n\r\n    # victory modal\r\n    if i18n = @model.get('victory')?.i18n\r\n      @wrapRow 'Victory text', ['body'], @model.get('victory').body, i18n[lang]?.body, ['victory'], 'markdown'\r\n\r\n    # code comments\r\n    for thang, thangIndex in @model.get('thangs') ? []\r\n      for component, componentIndex in thang.components ? []\r\n        continue unless component.original is LevelComponent.ProgrammableID\r\n        for methodName, method of component.config?.programmableMethods ? {}\r\n          if (i18n = method.i18n) and (context = method.context)\r\n            for key, value of context\r\n              path = ['thangs', thangIndex, 'components', componentIndex, 'config', 'programmableMethods', methodName]\r\n              @wrapRow 'Code comment', ['context', key], value, i18n[lang]?.context?[key], path\r\n"]}