{"version":3,"sources":["app/templates/artisans/student-solutions-view.jade","app/views/artisans/StudentSolutionsView.coffee"],"names":[],"mappings":"AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnRA;AAAA;;ACAA;EAAA;;;;;AAAA,WAAW,QAAQ,qBAAR;;AACX,WAAW,QAAQ,2CAAR;;AAEX,YAAY,QAAQ,uBAAR;;AACZ,WAAW,QAAQ,iBAAR;;AAEX,SAAS,QAAQ,oBAAR;;AACT,QAAQ,QAAQ,cAAR;;AACR,gBAAgB,QAAQ,2BAAR;;AAChB,MAAM,QAAQ,KAAR;;AACN,QAAQ,QAAQ,YAAR;;AACR,QAAQ,sBAAR;;AAEA,IAAO,OAAO,KAAP,KAAgB,WAAvB;EACE,QAAQ,IAAI,OAAO,CAAC;EACpB,SAAS,KAAK,CAAC,MAAM,CAAC,IAAb,CAAkB,KAAlB,EAFX;;;AAIA,MAAM,CAAC,OAAP,GAAuB;;;;;;;;;iCACrB,WAAU;;iCACV,KAAI;;iCAEJ,SACE;IAAA,oBAAoB,iBAApB;;;iCAEF,YAAW;;iCACX,QAAO;;iCACP,YAAW;;iCAEX,aAAY;IACV,IAAC,eAAD,GAAkB,CAAC,QAAD,EAAW,YAAX;IAClB,IAAC,eAAD;WACA,IAAC,mBAAD;EAHU;;iCAKZ,iBAAgB;IACd,IAAC,SAAD,GAAY;WACZ,IAAC,YAAD,GAAe;EAFD;;iCAIhB,qBAAoB;IAClB,IAAC,YAAD,GAAkB,IAAC,UAAD,KAAc,KAAjB,GAA4B,CAAC,YAAD,EAAe,QAAf,CAA5B,GAA0D,CAAC,IAAC,UAAF;IACzE,IAAC,MAAD,GAAS;IACT,IAAC,MAAM,cAAP,GAAuB;MAAE,OAAO,CAAT;MAAY,QAAQ,CAApB;;IACvB,IAAC,MAAM,UAAP,GAAmB;MAAE,OAAO,CAAT;MAAY,QAAQ,CAApB;;IACnB,IAAC,SAAD,GAAY;IACZ,IAAC,UAAD,GAAa;IACb,IAAC,MAAD,GAAS;WACT,IAAC,OAAD,GAAU;EARQ;;iCAUpB,oBAAmB;WACjB,IAAC,aAAD;EADiB;;iCAGnB,gBAAe;IACb,IAAC,mBAAD;WACA,IAAC,kBAAD,CAAmB;aAAA,SAAC,QAAD;AACjB;QAAA,IAAU,KAAC,UAAX;AAAA;;AACA;AAAA;;UACE,UAAU,OAAO,CAAC;UAClB,OAAO,OAAO,CAAC;UACf,IAAgB,aAAQ,KAAC,YAAT,WAAhB;AAAA;;UACA,KAAC,MAAM,MAAK,CAAC,KAAb,IAAsB;UACtB,0CAAoB,oBAAmB,CAAC;UACxC,KAAO,GAAP;YACE,KAAC,MAAM,MAAK,CAAC,MAAb,IAAuB;AACvB,qBAFF;;UAGA,MAAM,KAAC,YAAD,CAAa,GAAb,EAAkB,IAAlB;UACN,KAAgB,GAAhB;AAAA;;UACA,MAAM,KAAC,QAAD,CAAS,GAAT,EAAc,KAAC,eAAf;UACN,OAAO,KAAC,WAAD,CAAY,IAAI,CAAC,SAAL,CAAe,GAAf,CAAZ;;gBACA,SAAS;;UAChB,KAAC,MAAM,MAAP,IAAgB;;iBACL,SAAS;;UACpB,KAAC,UAAU,MAAK,CAAC,IAAjB,CAAsB,OAAtB;AAhBF;QAkBA,UAAU,SAAC,MAAD,EAAS,KAAT,EAAgB,GAAhB;UACR,IAAiB,UAAS,CAA1B;AAAA,mBAAO,OAAP;;;YACA,MAAO,UAAU;;UACjB,MAAO,OAAM,CAAC,IAAd,CAAmB,GAAnB;iBACA;QAJQ;QAMV,KAAC,cAAD,GAAiB,CAAC,CAAC,MAAF,CAAS,KAAC,MAAV,EAAiB,OAAjB,EAA0B,EAA1B;QACjB,KAAC,kBAAD,GAAqB,CAAC,CAAC,MAAF,CAAS,CAAC,CAAC,IAAF,CAAO,KAAC,cAAR,CAAT,EAAiC,SAAC,CAAD;iBAAO,SAAS,CAAT;QAAP,CAAjC,CAAoD,CAAC,OAArD;eACrB,KAAC,OAAD;MA5BiB;IAAA,QAAnB;EAFa;;iCAgCf,cAAa;AACX;IAAA;IACA,iBAAiB,IAAC,IAAG,CAAC,IAAL,CAAU,MAAV;AACjB;SAAA;;MACE,OAAO,IAAC,EAAD,CAAG,EAAH,CAAM,CAAC,IAAP,CAAY,UAAZ;MACP,SAAS,GAAG,CAAC,IAAJ,CAAS,EAAT;MACT,aAAa,MAAM,CAAC,UAAP;MACb,SAAS,UAAU,CAAC,WAAX;MACT,UAAU,CAAC,OAAX,CAAmB,KAAK,CAAC,YAAa,MAAtC;MACA,MAAM,CAAC,QAAP,CAAgB,oBAAhB;mBACA,MAAM,CAAC,WAAP,CAAmB,IAAnB;AAPF;;EAHW;;iCAYb,oBAAmB,SAAC,YAAD;AACjB;IAAA,IAAC,SAAD,GAAgB;IAChB,OAAO;MAAC,MAAM,IAAC,UAAR;MAAmB,OAAO,IAAC,MAA3B;;IACP,IAAG,IAAC,YAAW,CAAC,MAAb,KAAuB,CAA1B;MACE,IAAI,CAAC,YAAL,GAAoB,IAAC,YAAY,IADnC;;WAEA,IAAC,SAAQ,CAAC,mBAAV,CAA8B;MAAA,MAAM,IAAN;MAAY,QAAQ,MAApB;MAA4B,SAAS,YAArC;KAA9B;EALiB;;iCAOnB,eAAc;IACZ,IAAC,MAAD,GAAS,IAAC,WAAU,CAAC,QAAZ,CAAqB,KAArB,EAA4B,IAAC,UAA7B,KAA+C,UAAM;MAAA,KAAK,IAAC,UAAN;KAAN;IACxD,IAAC,WAAU,CAAC,YAAZ,CAAyB,IAAC,MAAK,CAAC,KAAP,EAAzB;IACA,IAAC,MAAK,CAAC,EAAP,CAAU,OAAV,EAAmB;aAAA,SAAC,MAAD,EAAS,KAAT;QAAC,KAAC,SAAD;eAClB,KAAK;UAAA,MAAM,0BAAwB,KAAK,CAAC,UAApC;UAAkD,QAAQ,QAA1D;UAAoE,MAAM,OAA1E;UAAmF,QAAQ,IAA3F;SAAL;MADiB;IAAA,QAAnB;IAEA,IAAG,IAAC,MAAK,CAAC,MAAV;aACE,IAAC,cAAD,CAAe,IAAC,MAAhB,EADF;KAAA;aAGE,IAAC,aAAD,CAAc,IAAC,MAAf,EAAsB,MAAtB,EAA8B,IAAC,cAA/B,EAHF;;EALY;;iCAUd,kBAAiB,SAAC,KAAD;IACf,KAAK,CAAC,cAAN;IACA,IAAC,MAAD,GAAS,IAAC,EAAD,CAAG,aAAH,CAAiB,CAAC,GAAlB;IACT,IAAC,UAAD,GAAa,IAAC,EAAD,CAAG,iBAAH,CAAqB,CAAC,GAAtB;IACb,IAAC,UAAD,GAAa,IAAC,EAAD,CAAG,YAAH,CAAgB,CAAC,GAAjB;WACb,IAAC,kBAAD;EALe;;iCAOjB,gBAAe,SAAC,KAAD;AACb;IAAA,IAAC,eAAD;AAEA;AAAA;;MACE,MAAgB,QAAQ,CAAC,MAAT,IAAoB,gBAAQ,CAAC,QAAT,eAAqB,IAAC,eAAtB,aAApC;AAAA;;MACA,MAAM,IAAC,YAAD,CAAa,QAAQ,CAAC,MAAtB,EAA8B,QAAQ,CAAC,QAAvC;MACN,KAAgB,GAAhB;AAAA;;MACA,MAAM,IAAC,QAAD,CAAS,GAAT,EAAc,IAAC,eAAf;MACN,OAAO,IAAC,WAAD,CAAY,IAAI,CAAC,SAAL,CAAe,GAAf,CAAZ;MACP,IAAC,SAAS,SAAQ,CAAC,QAAT,CAAV,GAA+B;QAAA,MAAM,IAAN;QAAY,QAAQ,QAAQ,CAAC,MAA7B;;AANjC;IAQA,WAAW,IAAC,eAAD,CAAgB,KAAhB;AACX;AAAA;;MACE,MAAgB,UAAW,aAAY,IAAC,eAAb,gBAA3B;AAAA;;MACA,MAAM,IAAC,YAAD,CAAa,MAAb,EAAqB,QAArB;MACN,KAAgB,GAAhB;AAAA;;MACA,MAAM,IAAC,QAAD,CAAS,GAAT,EAAc,IAAC,eAAf;MACN,OAAO,IAAC,WAAD,CAAY,IAAI,CAAC,SAAL,CAAe,GAAf,CAAZ;MACP,IAAC,YAAY,UAAb,GAAyB;QAAA,MAAM,IAAN;QAAY,QAAQ,MAApB;;AAN3B;WAOA,IAAC,cAAD;EAnBa;;iCAqBf,iBAAgB,SAAC,KAAD;AAEd;IAAA,gBAAgB;aAAA,SAAC,GAAD,EAAM,OAAN;AACd;AAAA;UACE,MAAM,CAAC,CAAC,QAAF,CAAW,GAAX,EAAgB,OAAhB;AACN,iBAAO,IAFT;SAAA;UAGM;UACJ,OAAO,CAAC,IAAR,CAAa,gBAAb;UACA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACA,iBAAO,IANT;;MADc;IAAA;IAUhB,gCAAgC;IAChC,kBAAkB,CAAC,CAAC,IAAF,CAAO,KAAK,CAAC,GAAN,CAAU,QAAV,CAAP,EAA4B;MAAA,IAAI,kBAAJ;KAA5B;IAClB,OAAO,CAAC,CAAC,IAAF,2BAAO,eAAe,CAAE,mBAAxB,EAAoC;MAAA,UAAU,6BAAV;KAApC;IACP,oCAAqB,IAAI,CAAE,MAAM,CAAC,mBAAmB,CAAC;IACtD,SAAS;IAGT,IAAG,kBAAkB,CAAC,MAAtB;MACE,MAAM,kBAAkB,CAAC;MACzB,MAAM,cAAc,GAAd,EAAmB,kBAAkB,CAAC,OAAtC;MACN,MAAO,cAAP,GAAuB,IAHzB;;AAKA;AAAA;;MACE,IAAgB,QAAQ,QAAxB;AAAA;;MACA,MAAM,kBAAkB,CAAC,SAAU;MACnC,MAAM,cAAc,GAAd,EAAmB,kBAAkB,CAAC,OAAtC;MACN,MAAO,KAAP,GAAc;AAJhB;WAMA;EA9Bc;;iCAgChB,cAAa,SAAC,GAAD,EAAM,IAAN;AACX;IAAA,IAAG,SAAQ,QAAX;MACE,SAAa,WAAO;QAAA,UAAU,QAAV;OAAP;MACb,OAAO,MAAM,CAAC,SAAP,CAAiB,GAAjB;MACP,MAAM,MAAM,CAAC,IAHf;;IAMA,IAAG,SAAQ,YAAX;AACE;QACE,MAAM,OAAO,GAAP,EADR;OAAA;QAEM;QACJ,IAAC,MAAM,MAAK,CAAC,MAAb,IAAuB;AACvB,eAAO,KAJT;OADF;;WAMA;EAbW;;iCAgBb,UAAS,SAAC,IAAD,EAAO,EAAP;AACP;AAAA;;MACE,IAAG,CAAC,CAAC,OAAF,CAAU,KAAV,CAAH;AACE;;UACE,IAAG,CAAC,CAAC,QAAF,sBAAW,UAAU,CAAE,aAAvB,CAAH;YACE,IAAC,QAAD,CAAS,UAAT,EAAqB,EAArB,EADF;;AADF,SADF;OAAA,MAIK,IAAG,CAAC,CAAC,QAAF,iBAAW,KAAK,CAAE,aAAlB,CAAH;QACH,IAAC,QAAD,CAAS,KAAT,EAAgB,EAAhB,EADG;;AALP;WAOA,GAAG,IAAH;EARO;;iCAUT,iBAAgB,SAAC,IAAD;IACd,IAAc,YAAd;AAAA;;IACA,IAAqB,IAAI,CAAC,KAA1B;MAAA,OAAO,IAAI,CAAC,MAAZ;;IACA,IAAmB,IAAI,CAAC,GAAxB;MAAA,OAAO,IAAI,CAAC,IAAZ;;IACA,IAA6B,IAAI,CAAC,aAAlC;MAAA,OAAO,IAAI,CAAC,cAAZ;;WACA;EALc;;iCAOhB,aAAY,SAAC,GAAD;AACV;WAAA;;AAAC;WAA0B,mFAA1B;qBAAA,GAAG,CAAC,UAAJ,CAAe,CAAf;AAAA;;QAAD,CAA4C,CAAC,MAA7C,CAAoD,CAAC,SAAC,IAAD,EAAO,IAAP;aAAgB,CAAC,CAAC,QAAQ,CAAT,IAAc,IAAf,IAAuB;IAAvC,CAAD,CAApD,EAAmG,IAAnG;EADU;;;;GA3LsC","file":"public/javascripts/app/views/artisans/StudentSolutionsView.js","sourcesContent":["var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),me = locals_.me,serverConfig = locals_.serverConfig,view = locals_.view;var accountLinks_mixin = function(){\nvar block = this.block, attributes = this.attributes || {}, escaped = this.escaped || {};\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\"), 'data-i18n':(\"nav.profile\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li><li><a href=\\\"/account/settings\\\" data-i18n=\\\"play.settings\\\"></a></li><li><a id=\\\"logout-button\\\" data-i18n=\\\"login.log_out\\\"></a></li>\");\n};\nbuf.push(\"<div class=\\\"style-flat\\\"><nav id=\\\"main-nav\\\" class=\\\"navbar navbar-default\\\"><div class=\\\"container-fluid container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"navbar-header\\\"><button data-toggle=\\\"collapse\\\" data-target=\\\"#navbar-collapse\\\" aria-expanded=\\\"false\\\" class=\\\"navbar-toggle collapsed\\\"><span data-i18n=\\\"nav.toggle_nav\\\" class=\\\"sr-only\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span><span class=\\\"icon-bar\\\"></span></button><a href=\\\"/\\\" class=\\\"navbar-brand\\\">\");\nif ( serverConfig.codeNinjas)\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\" class=\\\"code-ninjas-powered-by\\\"/><img src=\\\"/images/pages/base/code-ninjas-logo-right.png\\\" class=\\\"code-ninjas-logo\\\"/>\");\n}\nelse\n{\nbuf.push(\"<img id=\\\"logo-img\\\" src=\\\"/images/pages/base/logo.png\\\"/>\");\n}\nbuf.push(\"<span class=\\\"glyphicon glyphicon-home\\\"></span></a></div><div id=\\\"navbar-collapse\\\" class=\\\"collapse navbar-collapse\\\"><ul class=\\\"nav navbar-nav\\\">\");\nif ( (!me.isStudent() && !me.isTeacher()))\n{\nbuf.push(\"<li><a href=\\\"/play\\\" data-i18n=\\\"common.play\\\"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"play/ladder\\\" data-i18n=\\\"game_menu.multiplayer_tab\\\"></a></li>\");\nif ( me.isStudent())\n{\nbuf.push(\"<li><a href=\\\"/students\\\" data-i18n=\\\"nav.my_courses\\\"></a></li>\");\n}\nif ( !me.isAnonymous() && me.isTeacher())\n{\nbuf.push(\"<li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li><li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li></ul>\");\nif ( me.isAnonymous())\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><a id=\\\"create-account-link\\\" data-i18n=\\\"login.sign_up\\\" class=\\\"signup-button\\\"></a></li><li><a id=\\\"login-link\\\" data-i18n=\\\"login.log_in\\\" class=\\\"login-button\\\"></a></li></ul>\");\n}\nelse\n{\nbuf.push(\"<ul class=\\\"nav navbar-nav hidden-md hidden-lg\\\"><li class=\\\"disabled\\\"><a><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span>\" + (jade.escape(null == (jade.interp = me.displayName()) ? \"\" : jade.interp)) + \"</span></a></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul><ul class=\\\"nav navbar-nav\\\"><li class=\\\"dropdown hidden-xs hidden-sm\\\"><a href=\\\"#\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\" class=\\\"dropdown-toggle\\\"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),('img-circle-small'),('m-r-1'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/><span data-i18n=\\\"nav.my_account\\\"></span></a><ul class=\\\"dropdown-menu\\\"><li class=\\\"user-dropdown-header text-center\\\"><span class=\\\"user-level\\\">\" + (jade.escape(null == (jade.interp = me.level()) ? \"\" : jade.interp)) + \"</span><a\" + (jade.attrs({ 'href':(\"/user/\" + (me.getSlugOrID()) + \"\") }, {\"href\":true})) + \"><img\" + (jade.attrs({ 'src':(me.getPhotoURL()), \"class\": [('img-circle'),((me.isTeacher() ? 'border-navy' : ''))] }, {\"class\":true,\"src\":true})) + \"/></a><h5>\" + (jade.escape(null == (jade.interp = me.broadName()) ? \"\" : jade.interp)) + \"</h5></li>\");\naccountLinks_mixin();\nbuf.push(\"</ul></li></ul>\");\n}\nbuf.push(\"<ul class=\\\"nav navbar-nav\\\"><li><div id=\\\"language-dropdown-wrapper\\\"><select class=\\\"language-dropdown form-control\\\"></select></div></li></ul></div></div></div></div></nav><div id=\\\"site-content-area\\\"><div class=\\\"container\\\"><div><a href=\\\"/artisans\\\"><span class=\\\"glyphicon glyphicon-chevron-left\\\"></span><span>Artisans Home</span></a></div><h1>Common Student Solutions</h1><div class=\\\"row well\\\"><form><div class=\\\"col-xs-2 form-group\\\"><label for=\\\"levelSlug\\\">Level Slug:</label><input\" + (jade.attrs({ 'id':('levelSlug'), 'type':(\"text\"), 'value':(view.levelSlug), \"class\": [('form-control')] }, {\"type\":true,\"value\":true})) + \"/></div><div class=\\\"col-xs-2 form-group\\\"><label for=\\\"languageSelect\\\">Language:</label><p><select id=\\\"languageSelect\\\"><option\" + (jade.attrs({ 'value':(\"all\"), 'selected':((view.languages==\"all\")) }, {\"value\":true,\"selected\":true})) + \">js / py</option><option\" + (jade.attrs({ 'value':(\"javascript\"), 'selected':((view.languages==\"javascript\") ? true : false) }, {\"value\":true,\"selected\":true})) + \">Javascript</option><option\" + (jade.attrs({ 'value':(\"python\"), 'selected':((view.languages==\"python\") ? true : false) }, {\"value\":true,\"selected\":true})) + \">Python</option></select></p></div><div class=\\\"col-xs-2 form-group\\\"><label for=\\\"sessionNum\\\">Sessions:</label><input\" + (jade.attrs({ 'id':('sessionNum'), 'type':(\"number\"), 'min':(100), 'max':(100000), 'step':(10), 'value':(view.limit), \"class\": [('form-control')] }, {\"type\":true,\"min\":true,\"max\":true,\"step\":true,\"value\":true})) + \"/></div><div class=\\\"col-xs-3 go-button\\\"><button id=\\\"go-button\\\" class=\\\"btn btn-primary\\\">Go</button></div></form></div><div class=\\\"row\\\"><div class=\\\"col-xs-12 well\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-3\\\">Language: javascript</div><div class=\\\"col-xs-3\\\">Sessions: \" + (jade.escape((jade.interp = view.stats.javascript.total) == null ? '' : jade.interp)) + \"</div><div class=\\\"col-xs-3\\\">Errors: \" + (jade.escape((jade.interp = view.stats.javascript.errors) == null ? '' : jade.interp)) + \"</div></div><div class=\\\"row\\\"><div class=\\\"col-xs-3\\\">Language: python</div><div class=\\\"col-xs-3\\\">Sessions: \" + (jade.escape((jade.interp = view.stats.python.total) == null ? '' : jade.interp)) + \"</div><div class=\\\"col-xs-3\\\">Errors: \" + (jade.escape((jade.interp = view.stats.python.errors) == null ? '' : jade.interp)) + \"</div></div></div></div><div class=\\\"row\\\">\");\nif ( view.errorMessage)\n{\nbuf.push(\"<div class=\\\"col-xs-6 col-xs-offset-3\\\"><span class=\\\"center-block\\\">Error: \" + (jade.escape((jade.interp = view.errorMessage) == null ? '' : jade.interp)) + \"</span></div>\");\n}\nif ( view.sortedTallyCounts && view.sortedTallyCounts.length > 0)\n{\nbuf.push(\"<div class=\\\"col-xs-6 col-xs-offset-3\\\"><span class=\\\"center-block\\\">Viewing \" + (jade.escape((jade.interp = view.limit) == null ? '' : jade.interp)) + \" recent sessions from \" + (jade.escape((jade.interp = view.levelSlug) == null ? '' : jade.interp)) + \"</span></div>\");\n}\nbuf.push(\"</div>\");\n// iterate (view.sortedTallyCounts || [])\n;(function(){\n  var $$obj = (view.sortedTallyCounts || []);\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var num = $$obj[$index];\n\nvar hashes = view.talliedHashes[num]\n// iterate hashes\n;(function(){\n  var $$obj = hashes;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var hash = $$obj[$index];\n\nvar session = view.solutions[hash][0]\nvar lang = session.codeLanguage\nvar isComplete = session.state && session.state.complete\nvar isDefault = (hash == view.defaultcode[lang].hash)\nvar isIntended = (hash == view.intended[lang].hash)\nbuf.push(\"<div class=\\\"row solutions-row\\\"><div class=\\\"col-xs-2 well solution-info\\\"><p> <b>Count: </b>\" + (jade.escape((jade.interp = num) == null ? '' : jade.interp)) + \"</p>\");\nif ( view.doLanguages.length > 1)\n{\nbuf.push(\"<p><b>Language:</b> \" + (jade.escape((jade.interp = lang) == null ? '' : jade.interp)) + \"</p>\");\n}\nif ( isDefault)\n{\nbuf.push(\"<p><b>Status:</b> Default Code</p>\");\n}\nelse if ( isIntended)\n{\nbuf.push(\"<p><b>Status:</b> Intended Code</p>\");\n}\nelse if ( isComplete)\n{\nbuf.push(\"<p><b>Status:</b> Success</p>\");\n}\nelse\n{\nbuf.push(\"<p><b>Status:</b> Failure</p>\");\n}\nbuf.push(\"<p class=\\\"is-breakable\\\"><b>Fingerprint:</b> \" + (jade.escape((jade.interp = hash) == null ? '' : jade.interp)) + \"</p></div><div class=\\\"col-xs-10\\\">\");\nif ( session.code && session.code['hero-placeholder'])\n{\nbuf.push(\"<div\" + (jade.attrs({ 'data-language':(lang), \"class\": [('ace')] }, {\"data-language\":true})) + \">\" + (jade.escape((jade.interp = session.code['hero-placeholder'].plan) == null ? '' : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</div></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var hash = $$obj[$index];\n\nvar session = view.solutions[hash][0]\nvar lang = session.codeLanguage\nvar isComplete = session.state && session.state.complete\nvar isDefault = (hash == view.defaultcode[lang].hash)\nvar isIntended = (hash == view.intended[lang].hash)\nbuf.push(\"<div class=\\\"row solutions-row\\\"><div class=\\\"col-xs-2 well solution-info\\\"><p> <b>Count: </b>\" + (jade.escape((jade.interp = num) == null ? '' : jade.interp)) + \"</p>\");\nif ( view.doLanguages.length > 1)\n{\nbuf.push(\"<p><b>Language:</b> \" + (jade.escape((jade.interp = lang) == null ? '' : jade.interp)) + \"</p>\");\n}\nif ( isDefault)\n{\nbuf.push(\"<p><b>Status:</b> Default Code</p>\");\n}\nelse if ( isIntended)\n{\nbuf.push(\"<p><b>Status:</b> Intended Code</p>\");\n}\nelse if ( isComplete)\n{\nbuf.push(\"<p><b>Status:</b> Success</p>\");\n}\nelse\n{\nbuf.push(\"<p><b>Status:</b> Failure</p>\");\n}\nbuf.push(\"<p class=\\\"is-breakable\\\"><b>Fingerprint:</b> \" + (jade.escape((jade.interp = hash) == null ? '' : jade.interp)) + \"</p></div><div class=\\\"col-xs-10\\\">\");\nif ( session.code && session.code['hero-placeholder'])\n{\nbuf.push(\"<div\" + (jade.attrs({ 'data-language':(lang), \"class\": [('ace')] }, {\"data-language\":true})) + \">\" + (jade.escape((jade.interp = session.code['hero-placeholder'].plan) == null ? '' : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</div></div>\");\n    }\n\n  }\n}).call(this);\n\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var num = $$obj[$index];\n\nvar hashes = view.talliedHashes[num]\n// iterate hashes\n;(function(){\n  var $$obj = hashes;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var hash = $$obj[$index];\n\nvar session = view.solutions[hash][0]\nvar lang = session.codeLanguage\nvar isComplete = session.state && session.state.complete\nvar isDefault = (hash == view.defaultcode[lang].hash)\nvar isIntended = (hash == view.intended[lang].hash)\nbuf.push(\"<div class=\\\"row solutions-row\\\"><div class=\\\"col-xs-2 well solution-info\\\"><p> <b>Count: </b>\" + (jade.escape((jade.interp = num) == null ? '' : jade.interp)) + \"</p>\");\nif ( view.doLanguages.length > 1)\n{\nbuf.push(\"<p><b>Language:</b> \" + (jade.escape((jade.interp = lang) == null ? '' : jade.interp)) + \"</p>\");\n}\nif ( isDefault)\n{\nbuf.push(\"<p><b>Status:</b> Default Code</p>\");\n}\nelse if ( isIntended)\n{\nbuf.push(\"<p><b>Status:</b> Intended Code</p>\");\n}\nelse if ( isComplete)\n{\nbuf.push(\"<p><b>Status:</b> Success</p>\");\n}\nelse\n{\nbuf.push(\"<p><b>Status:</b> Failure</p>\");\n}\nbuf.push(\"<p class=\\\"is-breakable\\\"><b>Fingerprint:</b> \" + (jade.escape((jade.interp = hash) == null ? '' : jade.interp)) + \"</p></div><div class=\\\"col-xs-10\\\">\");\nif ( session.code && session.code['hero-placeholder'])\n{\nbuf.push(\"<div\" + (jade.attrs({ 'data-language':(lang), \"class\": [('ace')] }, {\"data-language\":true})) + \">\" + (jade.escape((jade.interp = session.code['hero-placeholder'].plan) == null ? '' : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</div></div>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var hash = $$obj[$index];\n\nvar session = view.solutions[hash][0]\nvar lang = session.codeLanguage\nvar isComplete = session.state && session.state.complete\nvar isDefault = (hash == view.defaultcode[lang].hash)\nvar isIntended = (hash == view.intended[lang].hash)\nbuf.push(\"<div class=\\\"row solutions-row\\\"><div class=\\\"col-xs-2 well solution-info\\\"><p> <b>Count: </b>\" + (jade.escape((jade.interp = num) == null ? '' : jade.interp)) + \"</p>\");\nif ( view.doLanguages.length > 1)\n{\nbuf.push(\"<p><b>Language:</b> \" + (jade.escape((jade.interp = lang) == null ? '' : jade.interp)) + \"</p>\");\n}\nif ( isDefault)\n{\nbuf.push(\"<p><b>Status:</b> Default Code</p>\");\n}\nelse if ( isIntended)\n{\nbuf.push(\"<p><b>Status:</b> Intended Code</p>\");\n}\nelse if ( isComplete)\n{\nbuf.push(\"<p><b>Status:</b> Success</p>\");\n}\nelse\n{\nbuf.push(\"<p><b>Status:</b> Failure</p>\");\n}\nbuf.push(\"<p class=\\\"is-breakable\\\"><b>Fingerprint:</b> \" + (jade.escape((jade.interp = hash) == null ? '' : jade.interp)) + \"</p></div><div class=\\\"col-xs-10\\\">\");\nif ( session.code && session.code['hero-placeholder'])\n{\nbuf.push(\"<div\" + (jade.attrs({ 'data-language':(lang), \"class\": [('ace')] }, {\"data-language\":true})) + \">\" + (jade.escape((jade.interp = session.code['hero-placeholder'].plan) == null ? '' : jade.interp)) + \"</div>\");\n}\nbuf.push(\"</div></div>\");\n    }\n\n  }\n}).call(this);\n\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div></div><div class=\\\"container-fluid\\\"><div id=\\\"footer\\\" class=\\\"small\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong>CodeCombat</strong></li><li><a href=\\\"/about\\\" data-i18n=\\\"nav.about\\\"></a></li><li><a href=\\\"/about#jobs\\\" data-i18n=\\\"nav.jobs\\\"></a></li><li><a href=\\\"http://blog.codecombat.com/\\\" data-i18n=\\\"nav.blog\\\"></a></li><li><a href=\\\"/legal\\\" data-i18n=\\\"nav.legal\\\"></a></li><li><a href=\\\"/privacy\\\" data-i18n=\\\"nav.privacy\\\"></a></li></ul></div>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.schools\\\"></strong></li><li><a href=\\\"/teachers/resources/faq\\\" data-i18n=\\\"teacher.educator_faq\\\"></a></li><li><a href=\\\"/teachers/classes\\\" data-i18n=\\\"nav.my_classrooms\\\"></a></li><li><a href=\\\"/teachers/resources\\\" data-i18n=\\\"nav.resource_hub\\\"></a></li><li><a href=\\\"/teachers/demo\\\" data-i18n=\\\"new_home.request_demo\\\"></a></li></ul></div>\");\n}\nbuf.push(\"<div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.get_involved\\\"></strong></li><li><a href=\\\"/community\\\" data-i18n=\\\"nav.community\\\"></a></li><li><a href=\\\"/contribute\\\" data-i18n=\\\"nav.contribute\\\"></a></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a\" + (jade.attrs({ 'href':(view.forumLink()), 'data-i18n':(\"nav.forum\") }, {\"href\":true,\"data-i18n\":true})) + \"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"/play/ladder\\\" data-i18n=\\\"game_menu.multiplayer_tab\\\"></a></li><li><a href=\\\"https://github.com/codecombat/codecombat\\\" data-i18n=\\\"nav.open_source\\\"></a></li></ul></div><div class=\\\"col-sm-3\\\"><ul class=\\\"list-unstyled\\\"><li><strong data-i18n=\\\"nav.support\\\"></strong></li>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<li><a tabindex=\\\"-1\\\" data-i18n=\\\"nav.contact\\\" class=\\\"contact-modal\\\"></a></li>\");\n}\nbuf.push(\"<li><a href=\\\"https://www.facebook.com/codecombat\\\" data-i18n=\\\"nav.facebook\\\"></a></li><li><a href=\\\"https://twitter.com/codecombat\\\" data-i18n=\\\"nav.twitter\\\"></a></li></ul></div></div></div></div><div id=\\\"final-footer\\\" class=\\\"small text-center\\\">Copyright ©2016 CodeCombat. All Rights Reserved.<br class=\\\"hidden-lg hidden-md\\\"/><img src=\\\"/images/pages/base/logo.png\\\" alt=\\\"CodeCombat\\\"/><br class=\\\"hidden-lg hidden-md\\\"/>\");\nif ( !me.isStudent())\n{\nbuf.push(\"<span data-i18n=\\\"nav.help_pref\\\" class=\\\"spr\\\"></span>\");\nvar supportEmail = (me.get('preferredLanguage', true) || 'en-US').split('-')[0] == 'nl' ? 'klantenservice@codecombat.nl' : 'team@codecombat.com';\nbuf.push(\"<a\" + (jade.attrs({ 'href':(\"mailto:\" + supportEmail) }, {\"href\":true})) + \">\" + (jade.escape(null == (jade.interp = supportEmail) ? \"\" : jade.interp)) + \"</a><span data-i18n=\\\"nav.help_suff\\\" class=\\\"spl\\\"></span>\");\n}\nbuf.push(\"</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","RootView = require 'views/core/RootView'\r\ntemplate = require 'templates/artisans/student-solutions-view'\r\n\r\nCampaigns = require 'collections/Campaigns'\r\nCampaign = require 'models/Campaign'\r\n\r\nLevels = require 'collections/Levels'\r\nLevel = require 'models/Level'\r\nLevelSessions = require 'collections/LevelSessions'\r\nace = require 'ace'\r\nutils = require 'core/utils'\r\nrequire 'vendor/aether-python'\r\n\r\nunless typeof esper is 'undefined'\r\n  realm = new esper().realm\r\n  parser = realm.parser.bind(realm)\r\n\r\nmodule.exports = class StudentSolutionsView extends RootView\r\n  template: template\r\n  id: 'student-solutions-view'\r\n\r\n  events:\r\n    'click #go-button': 'onClickGoButton'\r\n\r\n  levelSlug: \"eagle-eye\"\r\n  limit: 500\r\n  languages: \"python\"\r\n\r\n  initialize: () ->\r\n    @validLanguages = ['python', 'javascript']\r\n    @resetLevelInfo()\r\n    @resetSolutionsInfo()\r\n\r\n  resetLevelInfo: () ->\r\n    @intended = {}\r\n    @defaultcode = {}\r\n\r\n  resetSolutionsInfo: () ->\r\n    @doLanguages = if @languages is 'all' then ['javascript', 'python'] else [@languages]\r\n    @stats = {}\r\n    @stats['javascript'] = { total: 0, errors: 0 }\r\n    @stats['python'] = { total: 0, errors: 0 }\r\n    @sessions = null\r\n    @solutions = {}\r\n    @count = {}\r\n    @errors = 0\r\n\r\n  startFetchingData: ->\r\n    @getLevelInfo()\r\n\r\n  fetchSessions: () ->\r\n    @resetSolutionsInfo()\r\n    @getRecentSessions (sessions) =>\r\n      return if @destroyed\r\n      for session in @sessions.models\r\n        session = session.attributes\r\n        lang = session.codeLanguage\r\n        continue unless lang in @doLanguages\r\n        @stats[lang].total += 1\r\n        src = session.code?['hero-placeholder'].plan\r\n        unless src\r\n          @stats[lang].errors += 1\r\n          continue\r\n        ast = @parseSource src, lang\r\n        continue unless ast\r\n        ast = @walkAST ast, @processASTNode\r\n        hash = @hashString JSON.stringify(ast)\r\n        @count[hash] ?= 0\r\n        @count[hash] += 1\r\n        @solutions[hash] ?= []\r\n        @solutions[hash].push session\r\n\r\n      tallyFn = (result, value, key) =>\r\n        return result if value is 1\r\n        result[value] ?= []\r\n        result[value].push key\r\n        result\r\n\r\n      @talliedHashes = _.reduce(@count, tallyFn, {})\r\n      @sortedTallyCounts = _.sortBy(_.keys(@talliedHashes), (v) -> parseInt(v)).reverse()\r\n      @render()\r\n\r\n  afterRender: ->\r\n    super()\r\n    editorElements = @$el.find('.ace')\r\n    for el in editorElements\r\n      lang = @$(el).data('language')\r\n      editor = ace.edit el\r\n      aceSession = editor.getSession()\r\n      aceDoc = aceSession.getDocument()\r\n      aceSession.setMode utils.aceEditModes[lang]\r\n      editor.setTheme 'ace/theme/textmate'\r\n      editor.setReadOnly true\r\n\r\n  getRecentSessions: (doneCallback) ->\r\n    @sessions = new LevelSessions()\r\n    data = {slug: @levelSlug, limit: @limit}\r\n    if @doLanguages.length is 1\r\n      data.codeLanguage = @doLanguages[0]\r\n    @sessions.fetchRecentSessions data: data, method: 'POST', success: doneCallback\r\n\r\n  getLevelInfo: () ->\r\n    @level = @supermodel.getModel(Level, @levelSlug) or new Level _id: @levelSlug\r\n    @supermodel.trackRequest @level.fetch()\r\n    @level.on 'error', (@level, error) =>\r\n      noty text: \"Error loading level: #{error.statusText}\", layout: 'center', type: 'error', killer: true\r\n    if @level.loaded\r\n      @onLevelLoaded @level\r\n    else\r\n      @listenToOnce @level, 'sync', @onLevelLoaded\r\n\r\n  onClickGoButton: (event) ->\r\n    event.preventDefault()\r\n    @limit = @$('#sessionNum').val()\r\n    @languages = @$('#languageSelect').val()\r\n    @levelSlug = @$('#levelSlug').val()\r\n    @startFetchingData()\r\n\r\n  onLevelLoaded: (level) ->\r\n    @resetLevelInfo()\r\n\r\n    for solution in level.getSolutions()\r\n      continue unless solution.source and solution.language in @validLanguages\r\n      ast = @parseSource solution.source, solution.language\r\n      continue unless ast\r\n      ast = @walkAST ast, @processASTNode\r\n      hash = @hashString JSON.stringify(ast)\r\n      @intended[solution.language] = hash: hash, source: solution.source\r\n\r\n    defaults = @getDefaultCode level\r\n    for language, source of @getDefaultCode level\r\n      continue unless source and language in @validLanguages\r\n      ast = @parseSource source, language\r\n      continue unless ast\r\n      ast = @walkAST ast, @processASTNode\r\n      hash = @hashString JSON.stringify(ast)\r\n      @defaultcode[language] = hash: hash, source: source\r\n    @fetchSessions()\r\n\r\n  getDefaultCode: (level) ->\r\n\r\n    parseTemplate = (src, context) =>\r\n      try\r\n        res = _.template(src)(context)\r\n        return res\r\n      catch e\r\n        console.warn \"Template Error\"\r\n        console.log src\r\n        return src\r\n\r\n    # TODO: put this into Level? if so, also use it in TeacherCourseSolutionView\r\n    programmableComponentOriginal = '524b7b5a7fc0f6d51900000e'\r\n    heroPlaceholder = _.find level.get('thangs'), id: 'Hero Placeholder'\r\n    comp = _.find heroPlaceholder?.components, original: programmableComponentOriginal\r\n    programmableMethod = comp?.config.programmableMethods.plan\r\n    result = {}\r\n\r\n    # javascript\r\n    if programmableMethod.source\r\n      src = programmableMethod.source\r\n      src = parseTemplate(src, programmableMethod.context)\r\n      result['javascript'] = src\r\n    # non-javascript\r\n    for key in _.keys(programmableMethod.languages)\r\n      continue unless key in ['python']\r\n      src = programmableMethod.languages[key]\r\n      src = parseTemplate(src, programmableMethod.context)\r\n      result[key] = src\r\n\r\n    result\r\n\r\n  parseSource: (src, lang) =>\r\n    if lang is 'python'\r\n      aether = new Aether language: 'python'\r\n      tsrc = aether.transpile(src)\r\n      ast = aether.ast\r\n      # TODO: continue if error\r\n      # aether.problems?\r\n    if lang is 'javascript'\r\n      try\r\n        ast = parser(src)\r\n      catch e\r\n        @stats[lang].errors += 1\r\n        return null\r\n    ast\r\n\r\n  # Salvaged from dying Aether project\r\n  walkAST: (node, fn) ->\r\n    for key, child of node\r\n      if _.isArray child\r\n        for grandchild in child\r\n          if _.isString grandchild?.type\r\n            @walkAST grandchild, fn\r\n      else if _.isString child?.type\r\n        @walkAST child, fn\r\n    fn node\r\n\r\n  processASTNode: (node) =>\r\n    return unless node?\r\n    delete node.range if node.range\r\n    delete node.loc if node.loc\r\n    delete node.originalRange if node.originalRange\r\n    node\r\n\r\n  hashString: (str) ->\r\n    (str.charCodeAt i for i in [0...str.length]).reduce(((hash, char) -> ((hash << 5) + hash) + char), 5381)  # hash * 33 + c\r\n"]}