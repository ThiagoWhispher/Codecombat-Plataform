{"version":3,"sources":["app/templates/play/modal/play-account-modal.jade","app/views/play/modal/PlayAccountModal.coffee"],"names":[],"mappings":"AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAAA;;ACAA;EAAA;;;AAAA,YAAY,QAAQ,sBAAR;;AACZ,WAAW,QAAQ,yCAAR;;AACX,sBAAsB,QAAQ,mCAAR;;AAEtB,MAAM,CAAC,OAAP,GAAuB;;;6BACrB,YAAW;;6BACX,WAAU;;6BACV,QAAO;;6BACP,KAAI;;6BAEJ,SACE;IAAA,sBAAsB;aAAG,IAAC,oBAAmB,CAAC,IAArB;IAAH,CAAtB;;;EAEW,0BAAC,OAAD;IACX,kDAAM,OAAN;EADW;;6BAGb,cAAa;IACX;IACA,KAAc,IAAC,WAAU,CAAC,QAAZ,EAAd;AAAA;;IACA,IAAC,UAAD,CAAW,gBAAX;IACA,IAAC,oBAAD,GAA2B;IAC3B,IAAC,cAAD,CAAe,IAAC,oBAAhB;IACA,IAAC,SAAD,CAAU,IAAC,oBAAX,EAAgC,eAAhC,EAAiD,IAAC,eAAlD;IACA,IAAC,SAAD,CAAU,IAAC,oBAAX,EAAgC,iBAAhC,EAAmD,IAAC,gBAApD;IACA,IAAC,SAAD,CAAU,IAAC,oBAAX,EAAgC,mBAAhC,EAAqD,IAAC,KAAtD;WACA,IAAC,SAAD,CAAU,IAAC,oBAAX,EAAgC,iBAAhC,EAAmD,IAAC,gBAApD;EATW;;6BAWb,WAAU;IACR;WACA,IAAC,UAAD,CAAW,iBAAX;EAFQ;;6BAIV,iBAAgB;WACd,IAAC,IAAG,CAAC,IAAL,CAAU,cAAV,CACE,CAAC,IADH,CACQ,CAAC,CAAC,IAAI,CAAC,CAAP,CAAS,aAAT,EAAwB;MAAA,cAAc,MAAd;KAAxB,CADR,CAEE,CAAC,QAFH,CAEY,UAFZ,CAGE,CAAC,WAHH,CAGe,qBAHf,CAIE,CAAC,UAJH,CAIc,UAJd;EADc;;6BAOhB,kBAAiB;WACf,IAAC,IAAG,CAAC,IAAL,CAAU,cAAV,CACE,CAAC,IADH,CACQ,CAAC,CAAC,IAAI,CAAC,CAAP,CAAS,eAAT,EAA0B;MAAA,cAAc,WAAd;KAA1B,CADR,CAEE,CAAC,WAFH,CAEe,YAFf,CAGE,CAAC,QAHH,CAGY,aAHZ,CAG0B,CAAC,IAH3B;EADe;;6BAMjB,kBAAiB;WACf,IAAC,IAAG,CAAC,IAAL,CAAU,cAAV,CACE,CAAC,IADH,CACQ,CAAC,CAAC,IAAI,CAAC,CAAP,CAAS,+BAAT,EAA0C;MAAA,cAAc,cAAd;KAA1C,CADR,CAEE,CAAC,WAFH,CAEe,aAFf,CAGE,CAAC,QAHH,CAGY,YAHZ,EAG0B,GAH1B;EADe;;;;GAxC6B","file":"public/javascripts/app/views/play/modal/PlayAccountModal.js","sourcesContent":["var __templateData = function anonymous(locals\n/**/) {\nvar buf = [];\nvar locals_ = (locals || {}),view = locals_.view;buf.push(\"<div class=\\\"modal-dialog game\\\"><div class=\\\"background-wrapper\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\">\");\nif ( view.closeButton)\n{\nbuf.push(\"<div type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"button close\\\">&times;</div>\");\n}\nbuf.push(\"<h3 data-i18n=\\\"nav.account\\\">Account</h3></div><div class=\\\"modal-body\\\"><div id=\\\"account-settings-view\\\"></div></div><div class=\\\"modal-body wait secret\\\"><h3>Reticulating Splines...</h3><div class=\\\"progress progress-striped active\\\"><div class=\\\"progress-bar\\\"></div></div></div><div class=\\\"modal-footer\\\"><div id=\\\"save-button\\\" data-i18n=\\\"delta.no_changes\\\" disabled=\\\"true\\\" class=\\\"btn-lg btn disabled\\\">No Changes</div></div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","ModalView = require 'views/core/ModalView'\r\ntemplate = require 'templates/play/modal/play-account-modal'\r\nAccountSettingsView = require 'views/account/AccountSettingsView'\r\n\r\nmodule.exports = class PlayAccountModal extends ModalView\r\n  className: 'modal fade play-modal'\r\n  template: template\r\n  plain: true\r\n  id: 'play-account-modal'\r\n\r\n  events:\r\n    'click #save-button': -> @accountSettingsView.save()\r\n\r\n  constructor: (options) ->\r\n    super options\r\n\r\n  afterRender: ->\r\n    super()\r\n    return unless @supermodel.finished()\r\n    @playSound 'game-menu-open'\r\n    @accountSettingsView = new AccountSettingsView()\r\n    @insertSubView(@accountSettingsView)\r\n    @listenTo @accountSettingsView, 'input-changed', @onInputChanged\r\n    @listenTo @accountSettingsView, 'save-user-began', @onUserSaveBegan\r\n    @listenTo @accountSettingsView, 'save-user-success', @hide\r\n    @listenTo @accountSettingsView, 'save-user-error', @onUserSaveError\r\n\r\n  onHidden: ->\r\n    super()\r\n    @playSound 'game-menu-close'\r\n\r\n  onInputChanged: ->\r\n    @$el.find('#save-button')\r\n      .text($.i18n.t('common.save', defaultValue: 'Save'))\r\n      .addClass 'btn-info'\r\n      .removeClass 'disabled btn-danger'\r\n      .removeAttr 'disabled'\r\n\r\n  onUserSaveBegan: ->\r\n    @$el.find('#save-button')\r\n      .text($.i18n.t('common.saving', defaultValue: 'Saving...'))\r\n      .removeClass('btn-danger')\r\n      .addClass('btn-success').show()\r\n\r\n  onUserSaveError: ->\r\n    @$el.find('#save-button')\r\n      .text($.i18n.t('account_settings.error_saving', defaultValue: 'Error Saving'))\r\n      .removeClass('btn-success')\r\n      .addClass('btn-danger', 500)\r\n"]}