{"version":3,"sources":["app/views/common/UserView.coffee"],"names":[],"mappings":";AAAA;EAAA;;;AAAA,WAAW,QAAQ,qBAAR;;AACX,WAAW,QAAQ,uBAAR;;AACX,OAAO,QAAQ,aAAR;;AAEP,MAAM,CAAC,OAAP,GAAuB;;;qBACrB,WAAU;;qBACV,YAAW;;qBACX,WAAU;;EAEG,kBAAC,MAAD,EAAU,OAAV;IAAC,IAAC,UAAD;IACZ,0CAAM,OAAN;IACA,IAAC,SAAD,CAAU,IAAV,EAAa,cAAb,EAA6B,IAAC,eAA9B;IACA,IAAC,UAAD,CAAW,IAAC,OAAZ;EAHW;;qBAKb,YAAY;IACV,IAAG,IAAC,KAAD,EAAH;MACE,IAAC,KAAD,GAAQ;MACR,IAAC,SAAD,GAFF;;IAGA,IAAC,KAAD,GAAY,SAAK;MAAA,KAAK,IAAC,OAAN;KAAL;WACZ,IAAC,WAAU,CAAC,SAAZ,CAAsB,IAAC,KAAvB,EAA6B;MAAA,OAAO,KAAP;KAA7B;EALU;;qBAOZ,OAAM;AAAG;kBAAA,IAAC,QAAD,KAAY,EAAE,CAAC,EAAf,YAAmB,EAAE,CAAC,GAAH,CAAO,MAAP;EAAtB;;qBAEN,WAAU;AACR;IAAA,qCAA8B,CAAE,WAAP,YAAzB;MAAA,IAAC,SAAD,GAAY,IAAC,MAAb;;IACA,IAAC,OAAD,GAAU,IAAC,KAAI,CAAC;WAChB;EAHQ;;qBAKV,iBAAgB;IACd,OAAO,CAAC,IAAR,CAAa,gBAAb;WACA,IAAC,OAAD;EAFc;;;;GAxBsB","file":"public/javascripts/app/views/common/UserView.js","sourcesContent":["RootView = require 'views/core/RootView'\r\ntemplate = require 'templates/common/user'\r\nUser = require 'models/User'\r\n\r\nmodule.exports = class UserView extends RootView\r\n  template: template\r\n  className: 'user-view'\r\n  viewName: null # Used for the breadcrumbs\r\n\r\n  constructor: (@userID, options) ->\r\n    super options\r\n    @listenTo @, 'userNotFound', @ifUserNotFound\r\n    @fetchUser @userID\r\n\r\n  fetchUser:  ->\r\n    if @isMe()\r\n      @user = me\r\n      @onLoaded()\r\n    @user = new User _id: @userID\r\n    @supermodel.loadModel @user, cache: false\r\n\r\n  isMe: -> @userID in [me.id, me.get('slug')]\r\n\r\n  onLoaded: ->\r\n    @userData = @user unless @user?.isAnonymous()\r\n    @userID = @user.id\r\n    super()\r\n\r\n  ifUserNotFound: ->\r\n    console.warn 'user not found'\r\n    @render()\r\n"]}